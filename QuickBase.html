<HTML>
<HEAD>
<TITLE>HTTP::QuickBase - Create a web shareable database in under a minute</TITLE>
<LINK REV="made" HREF="mailto:">
</HEAD>

<BODY>

<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#SYNOPSIS">SYNOPSIS</A></LI>
	<LI><A HREF="#REQUIRES">REQUIRES</A></LI>
	<LI><A HREF="#SEE_ALSO">SEE ALSO</A></LI>
	<LI><A HREF="#EXPORTS">EXPORTS</A></LI>
	<LI><A HREF="#DESCRIPTION">DESCRIPTION</A></LI>
	<LI><A HREF="#METHODS">METHODS</A></LI>
	<UL>

		<LI><A HREF="#add_db_page">add_db_page</A></LI>
		<LI><A HREF="#add_field">add_field</A></LI>
		<LI><A HREF="#add_record">add_record</A></LI>
		<LI><A HREF="#add_replace_db_page">add_replace_db_page</A></LI>
		<LI><A HREF="#add_user_to_role">add_user_to_role</A></LI>
		<LI><A HREF="#apptoken">apptoken</A></LI>
		<LI><A HREF="#authenticate">authenticate</A></LI>
		<LI><A HREF="#change_record_owner">change_record_owner</A></LI>
		<LI><A HREF="#change_user_role">change_user_role</A></LI>
		<LI><A HREF="#clone_database">clone_database</A></LI>
		<LI><A HREF="#create_database">create_database</A></LI>
		<LI><A HREF="#create_table">create_table</A></LI>
		<LI><A HREF="#delete_database">delete_database</A></LI>
		<LI><A HREF="#delete_field">delete_field</A></LI>
		<LI><A HREF="#delete_record">delete_record</A></LI>
		<LI><A HREF="#do_query">do_query</A></LI>
		<LI><A HREF="#edit_record">edit_record</A></LI>
		<LI><A HREF="#edit_record_with_update_id">edit_record_with_update_id</A></LI>
		<LI><A HREF="#error">error</A></LI>
		<LI><A HREF="#errortext">errortext</A></LI>
		<LI><A HREF="#field_add_choices">field_add_choices</A></LI>
		<LI><A HREF="#field_remove_choices">field_remove_choices</A></LI>
		<LI><A HREF="#find_db_by_name">find_db_by_name</A></LI>
		<LI><A HREF="#gen_add_record_form">gen_add_record_form</A></LI>
		<LI><A HREF="#gen_results_table">gen_results_table</A></LI>
		<LI><A HREF="#get_complete_csv">get_complete_csv</A></LI>
		<LI><A HREF="#get_db_info">get_db_info</A></LI>
		<LI><A HREF="#get_db_page">get_db_page</A></LI>
		<LI><A HREF="#get_db_var">get_db_var</A></LI>
		<LI><A HREF="#get_file">get_file</A></LI>
		<LI><A HREF="#get_num_records">get_num_records</A></LI>
		<LI><A HREF="#get_one_time_ticket">get_one_time_ticket</A></LI>
		<LI><A HREF="#get_record">get_record</A></LI>
		<LI><A HREF="#get_record_as_html">get_record_as_html</A></LI>
		<LI><A HREF="#get_record_info">get_record_info</A></LI>
		<LI><A HREF="#get_rids">get_rids</A></LI>
		<LI><A HREF="#get_role_info">get_role_info</A></LI>
		<LI><A HREF="#get_schema">get_schema</A></LI>
		<LI><A HREF="#get_ticket">get_ticket</A></LI>
		<LI><A HREF="#get_user_info">get_user_info</A></LI>
		<LI><A HREF="#get_user_roles">get_user_roles</A></LI>
		<LI><A HREF="#granted_dbs">granted_dbs</A></LI>
		<LI><A HREF="#import_from_csv">import_from_csv</A></LI>
		<LI><A HREF="#post_api">post_api</A></LI>
		<LI><A HREF="#provision_user">provision_user</A></LI>
		<LI><A HREF="#proxy">proxy</A></LI>
		<LI><A HREF="#purge_records">purge_records</A></LI>
		<LI><A HREF="#realmhost">realmhost</A></LI>
		<LI><A HREF="#remove_user_from_role">remove_user_from_role</A></LI>
		<LI><A HREF="#rename_app">rename_app</A></LI>
		<LI><A HREF="#replace_db_page">replace_db_page</A></LI>
		<LI><A HREF="#send_invitation">send_invitation</A></LI>
		<LI><A HREF="#set_db_var">set_db_var</A></LI>
		<LI><A HREF="#set_field_properties">set_field_properties</A></LI>
		<LI><A HREF="#user_roles">user_roles</A></LI>
	</UL>

	<LI><A HREF="#DEPRECATED">DEPRECATED</A></LI>
	<UL>

		<LI><A HREF="#addField">addField</A></LI>
		<LI><A HREF="#AddRecord">AddRecord</A></LI>
		<LI><A HREF="#AddReplaceDBPage">AddReplaceDBPage</A></LI>
		<LI><A HREF="#AddUserToRole">AddUserToRole</A></LI>
		<LI><A HREF="#ChangeRecordOwner">ChangeRecordOwner</A></LI>
		<LI><A HREF="#ChangeUserRole">ChangeUserRole</A></LI>
		<LI><A HREF="#cloneDatabase">cloneDatabase</A></LI>
		<LI><A HREF="#createDatabase">createDatabase</A></LI>
		<LI><A HREF="#CreateTable">CreateTable</A></LI>
		<LI><A HREF="#DeleteDatabase">DeleteDatabase</A></LI>
		<LI><A HREF="#deleteField">deleteField</A></LI>
		<LI><A HREF="#DeleteRecord">DeleteRecord</A></LI>
		<LI><A HREF="#doQuery">doQuery</A></LI>
		<LI><A HREF="#DoQuery">DoQuery</A></LI>
		<LI><A HREF="#EditRecord">EditRecord</A></LI>
		<LI><A HREF="#EditRecordWithUpdateID">EditRecordWithUpdateID</A></LI>
		<LI><A HREF="#FieldAddChoices">FieldAddChoices</A></LI>
		<LI><A HREF="#FieldRemoveChoices">FieldRemoveChoices</A></LI>
		<LI><A HREF="#FindDBByName">FindDBByName</A></LI>
		<LI><A HREF="#GenAddRecordForm">GenAddRecordForm</A></LI>
		<LI><A HREF="#GenResultsTable">GenResultsTable</A></LI>
		<LI><A HREF="#getCompleteCSV">getCompleteCSV</A></LI>
		<LI><A HREF="#GetDBInfo">GetDBInfo</A></LI>
		<LI><A HREF="#GetDBPage">GetDBPage</A></LI>
		<LI><A HREF="#GetDBvar">GetDBvar</A></LI>
		<LI><A HREF="#GetFile">GetFile</A></LI>
		<LI><A HREF="#getIDbyName">getIDbyName</A></LI>
		<LI><A HREF="#GetNumRecords">GetNumRecords</A></LI>
		<LI><A HREF="#getoneBaseIDbyName">getoneBaseIDbyName</A></LI>
		<LI><A HREF="#GetOneTimeTicket">GetOneTimeTicket</A></LI>
		<LI><A HREF="#GetRecord">GetRecord</A></LI>
		<LI><A HREF="#GetRecordAsHTML">GetRecordAsHTML</A></LI>
		<LI><A HREF="#GetRecordInfo">GetRecordInfo</A></LI>
		<LI><A HREF="#GetRIDs">GetRIDs</A></LI>
		<LI><A HREF="#GetRoleInfo">GetRoleInfo</A></LI>
		<LI><A HREF="#GetSchema">GetSchema</A></LI>
		<LI><A HREF="#getTicket">getTicket</A></LI>
		<LI><A HREF="#GetURL">GetURL</A></LI>
		<LI><A HREF="#GetUserInfo">GetUserInfo</A></LI>
		<LI><A HREF="#GetUserRole">GetUserRole</A></LI>
		<LI><A HREF="#GrantedDBs">GrantedDBs</A></LI>
		<LI><A HREF="#ImportFromCSV">ImportFromCSV</A></LI>
		<LI><A HREF="#PostAPIURL">PostAPIURL</A></LI>
		<LI><A HREF="#PostURL">PostURL</A></LI>
		<LI><A HREF="#ProvisionUser">ProvisionUser</A></LI>
		<LI><A HREF="#purgeRecords">purgeRecords</A></LI>
		<LI><A HREF="#RemoveUserFromRole">RemoveUserFromRole</A></LI>
		<LI><A HREF="#RenameApp">RenameApp</A></LI>
		<LI><A HREF="#SendInvitation">SendInvitation</A></LI>
		<LI><A HREF="#setAppToken">setAppToken</A></LI>
		<LI><A HREF="#SetDBvar">SetDBvar</A></LI>
		<LI><A HREF="#setFieldProperties">setFieldProperties</A></LI>
		<LI><A HREF="#setProxy">setProxy</A></LI>
		<LI><A HREF="#setRealmhost">setRealmhost</A></LI>
		<LI><A HREF="#UserRoles">UserRoles</A></LI>
	</UL>

</UL>
<!-- INDEX END -->

<HR>
<style type="text/css">
    a:link, a:visited, h1, h2{background:transparent; color:#1A75CF;}
    body{background: white;color: black;font-family: arial,sans-serif;margin: 0;padding: 1ex;}
    table{border-collapse: collapse;border-spacing: 0;border-width: 0;color: inherit;}
    img{border:0;}
    form{margin:0;}
    input{ margin:2px;}
    td{margin:0;padding: 0;}
    div{border-width: 0;}
    dt{margin-top: 1em;}
    th{background: #bbb;color: inherit;padding: 0.4ex 1ex;text-align: left;}
    th a:link, th a:visited{color: black;}
    pre{background: #eee;border: 1px solid #888;color: black;padding: 1em;white-space: pre;}
</style>
<h1 align="center">HTTP::QuickBase</h1>
<h2 align="center">Create a web shareable database in under a minute.</h2>
<h2 align="center">Version 2.0a</h2>

<P>
<HR>
<H1><A NAME="SYNOPSIS">SYNOPSIS</A></H1>
<P>
<PRE> use HTTP::QuickBase;
 $qdb = HTTP::QuickBase-&gt;new();
 
 # If you don't want to use HTTPS or your Perl installation doesn't support
 # HTTPS then make sure you have the &quot;Allow non-SSL access (normally OFF)&quot;
 # checkbox checked on your QuickBase database info page. You can get to this
 # page by going to the database &quot;MAIN&quot; page and then clicking on
 # &quot;Administration&quot; under &quot;SHORTCUTS&quot;. Then click on &quot;Basic Properties&quot;. To use
 # this module in non-SSL mode invoke the QuickBase object like this:
 
 # $qdb = HTTP::QuickBase-&gt;new('<A HREF="http://www.quickbase.com/db">http://www.quickbase.com/db</A>');
 
 $username = &quot;fred&quot;;
 $password = &quot;flinstone&quot;;
 
 $qdb-&gt;authenticate($username, $password);
 
 $database_name = &quot;GuestBook Template&quot;;
 $database_id = &quot;9mztyxu8&quot;;
 
 $clone_name = &quot;My Guest Book&quot;;
 
 $database_clone_id = $qdb-&gt;clone_database($database_id, $clone_name, &quot;Description of my new database.&quot;);
 
 
 # Let's put something into the new guest book
 $record_id = $qdb-&gt;add_record(
    $database_clone_id, 
    {
      &quot;Name&quot;             =&gt; &quot;Fred Flinstone&quot;,
      &quot;Daytime Phone&quot;    =&gt; &quot;978-533-2189&quot;, 
      &quot;Evening Phone&quot;    =&gt; &quot;781-839-1555&quot;,
      &quot;Email Address&quot;    =&gt; &quot;fred\@bedrock.com&quot;, 
      &quot;Street Address 1&quot; =&gt; &quot;Rubble Court&quot;,
      &quot;Street Address 2&quot; =&gt; &quot;Pre Historic Route 1&quot;,
      &quot;City&quot;             =&gt; &quot;Bedrock&quot;,
      &quot;State&quot;            =&gt; &quot;Stonia&quot;,
      &quot;Zip Code&quot;         =&gt; &quot;99999-1234&quot;,
      &quot;Comments&quot;         =&gt; &quot;Hanna Barbara, the king of Saturday morning cartoons.&quot;,
      
      # If you want to attach a file you need to create an array with the first 
      # member of the array set to the literal string &quot;file&quot; and the second 
      # member of the array set to the full path of the file.
      &quot;Attached File&quot;    =&gt; [&quot;file&quot;, &quot;c:\\my documents\\bedrock.txt&quot;]
    }
 );
 
 # Let's get that information back out again
 %new_record=$qdb-&gt;get_record($database_clone_id, $record_id);
 # Now let's edit that record!
 $new_record{&quot;Daytime Phone&quot;} = &quot;978-275-2189&quot;;
 $qdb-&gt;edit_record($database_clone_id, $record_id, \%new_record);
 
 # Let's print out all records in the database.
 
 @records = $qdb-&gt;do_query($database_clone_id, &quot;{0.CT.''}&quot;);
 foreach $record (@records){
    foreach $field (keys %$record){
        print &quot;$field -&gt; $record-&gt;{$field}\n&quot;;
    }
 }
 
 # Let's save the entire database to a local comma separated values (CSV) file.
 
 open CSV, &quot;&gt;my_qdb_snapshot.csv&quot;;
 print CSV $qdb-&gt;get_complete_csv($database_clone_id);
 close CSV; 
 
 # Where field number 10 contains Wilma (the query)
 # let's print out fields 10, 11, 12 and 15 (the clist)
 # sorted by field 14 (the slist)
 # in descending order (the options)
 
 @records = $qdb-&gt;do_query($database_clone_id, &quot;{10.CT.'Wilma'}&quot;, &quot;10.11.12.15&quot;, &quot;14&quot;, &quot;sortorder-D&quot;);
 foreach $record (@records){
    foreach $field (keys %$record){
        print &quot;$field -&gt; $record-&gt;{$field}\n&quot;;
    }
 }
 
 # You can find out what you need in terms of the query, clist, slist and 
 # options by going to the View design page of your QuickBase database and 
 # filling in the form. Hit the &quot;Display&quot; button and look at the URL in the 
 # browser &quot;Address&quot; window. The View design page is accessible from any 
 # database home page by clicking on VIEWS at the top left and then clicking 
 # on &quot;New View...&quot; in the lower left.
</PRE>
</P>
<P>
<HR>
<H1><A NAME="REQUIRES">REQUIRES</A></H1>
<P>
Perl5.005, LWP::UserAgent, Crypt::SSLeay (optional unless you want to talk
to QuickBase via HTTPS)

</P>
<P>
<HR>
<H1><A NAME="SEE_ALSO">SEE ALSO</A></H1>
<P>
<A
HREF="https://www.quickbase.com/up/6mztyxu8/g/rc7/en/">https://www.quickbase.com/up/6mztyxu8/g/rc7/en/</A>
for details of the underlying QuickBase HTTP API

</P>
<P>
<HR>
<H1><A NAME="EXPORTS">EXPORTS</A></H1>
<P>
Nothing

</P>
<P>
<HR>
<H1><A NAME="DESCRIPTION">DESCRIPTION</A></H1>
<P>
HTTP::QuickBase allows you to manipulate QuickBase databases. Methods are
provided for cloning databases, adding records, editing records, deleting
records and retrieving records. All you need is a valid QuickBase account,
although with anonymous access you can read from publically accessible
QuickBase databases. To learn more about QuickBase please visit <A
HREF="http://www.quickbase.com/">http://www.quickbase.com/</A> This module
supports a single object that retains login state. You call the
authenticate method only once. 

</P>
<P>
<HR>
<H1><A NAME="METHODS">METHODS</A></H1>
<P>
<HR>
<H2><A NAME="add_db_page">add_db_page</A></H2>
<P>
A subroutine for adding a DB page.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG><A NAME="item_QuickBase">QuickBase Database ID</A></STRONG>
<P>
The QuickBase Database ID of the application you wish to add the page to.

</P>
<LI><STRONG><A NAME="item_Page">Page Name</A></STRONG>
<P>
The name of the page you wish to add.

</P>
<LI><STRONG><A NAME="item_Page">Page Type</A></STRONG>
<P>
Should be 1 for XSL stylesheets or HTML pages, or 3 for Exact Forms.

</P>
<LI><STRONG><A NAME="item_Page">Page Body</A></STRONG>
<P>
The contents of the page you are adding.

</P>
</UL>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE> my $pagename=&quot;newstylesheet.xsl&quot;;
 my $pagetype=1;
 my $pagebody&lt;&lt;XSLHTML;
 &lt;?xml version='1.0'?&gt;
 &lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform&quot">http://www.w3.org/1999/XSL/Transform&quot</A>; version=&quot;1.0&quot;&gt;
     &lt;xsl:template match=&quot;/&quot;&gt;
         &lt;html&gt;
             &lt;head&gt;&lt;/head&gt;
             &lt;body&gt;
                 Hello World
             &lt;/body&gt;
         &lt;/html&gt;
     &lt;/xsl:template&gt;
 &lt;/xsl:stylesheet&gt;
 XSLHTML
 
 my $page_id=$qdb-&gt;add_db_page(&quot;bep...pg2&quot;, $pagename, $pagetype, $pagebody);
 
 print $page_id; # 6
</PRE>
</P>
<P>
<STRONG>See Also:</STRONG>  <A HREF="#add_replace_db_page">add_replace_db_page</A>, <A HREF="#replace_db_page">replace_db_page</A>



</P>
<P>
<HR>
<H2><A NAME="add_field">add_field</A></H2>
<P>
Add a field to a QuickBase table.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The unique ID of the QuickBase table you wish to add the field to.

</P>
<LI><STRONG><A NAME="item_Field">Field Name/Label</A></STRONG>
<P>
The name of the new field.

</P>
<LI><STRONG><A NAME="item_Field">Field Type</A></STRONG>
<P>
The type of field you wish to add. The eligible type names differ slightly
from their QuickBase UI counterparts:

</P>
<P>
<PRE> QUICKBASE TYPE (UI)        API TYPE
 -------------------        ------------------------
 CheckBox                   checkbox
 Database Link              dblink
 Date                       date
 Duration                   duration
 Email Address              email
 File Attachment            file
 Formula                    see the &quot;mode&quot; parameter
 Lookup                     see the &quot;mode&quot; parameter
 Numeric                    float
 Numeric-Currency           currency
 Numeric-Rating             rating
 Phone Number               phone
 Text                       text
 Time of Day                timeofday
 URL-Link                   url
</PRE>
</P>
<LI><STRONG><A NAME="item__optional_Mode">[optional] Mode</A></STRONG>
<P>
If you want the field to be a formula specify ``virtual''. This can be set
for any field type (type can be set to any value). If you want the field to
be lookup specify ``lookup'' and set the Field Type to a text or numeric
type.

</P>
</UL>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $fid=$qdb-&gt;add_field(&quot;bep...pg2&quot;, &quot;Phone Number&quot;, &quot;phone&quot;);
    
    print $fid; # Prints 10
</PRE>
</P>
<P>
<STRONG>See Also:</STRONG>  <A HREF="#delete_field">delete_field</A>



</P>
<P>
<HR>
<H2><A NAME="add_record">add_record</A></H2>
<P>
Adds record to table

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The QuickBase Database ID of the table you wish to add the record to.

</P>
<LI><STRONG><A NAME="item_Record">Record Data</A></STRONG>
<P>
An array reference containing the record data.

</P>
<P>
Each array item should contain a hash reference detailing the field
information, like so:

</P>
</UL>
<P>
<PRE>    [
        # First field, referenced by field name
        {tag=&gt;&quot;field&quot;, atts=&gt;{name=&gt;&quot;fieldname&quot;}, value=&gt;&quot;fieldvalue&quot;},
        # Second field, referenced by field ID
        {tag=&gt;&quot;field&quot;, atts=&gt;{fid=&gt;&quot;22&quot;}, value=&gt;&quot;otherfieldvalue&quot;},
        # Third field, file attachment type, referenced by field ID
        {tag=&gt;&quot;field&quot;, atts=&gt;{fid=&gt;&quot;30&quot;, filename=&gt;&quot;/path/to/myfile.jpg&quot;}}
    ]
</PRE>
</P>
<P>
<HR>
<H2><A NAME="add_replace_db_page">add_replace_db_page</A></H2>
<P>
A subroutine for adding or replacing a DB page.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The QuickBase Database ID of the application on which the page resides or
will reside.

</P>
<LI><STRONG><A NAME="item_Page">Page ID OR Page Name</A></STRONG>
<P>
If you are adding a new page then you should pass the file name of the page
here. If you are editing an existing page then you should pass the page ID
here.

</P>
<LI><STRONG>Page Type</STRONG>
<P>
Should be 1 for XSL stylesheets or HTML pages, or 3 for Exact Forms.

</P>
<LI><STRONG>Page Body</STRONG>
<P>
The contents of the page.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
The page ID of the page that was added or replaced.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $pagename=&quot;newstylesheet.xsl&quot;;
    my $pagetype=1;
    my $pagebody&lt;&lt;XSLHTML;
    &lt;?xml version='1.0'?&gt;
    &lt;xsl:stylesheet xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform&quot">http://www.w3.org/1999/XSL/Transform&quot</A>; version=&quot;1.0&quot;&gt;
        &lt;xsl:template match=&quot;/&quot;&gt;
            &lt;html&gt;
                &lt;head&gt;&lt;/head&gt;
                &lt;body&gt;
                    Hello World
                &lt;/body&gt;
            &lt;/html&gt;
        &lt;/xsl:template&gt;
    &lt;/xsl:stylesheet&gt;
    XSLHTML
    
    my $page_id=$qdb-&gt;add_replace_db_page(&quot;bep...pg2&quot;, $pagename, $pagetype, $pagebody);
    
    print $page_id; # Prints 6
    
    # Replaces new page with empty file
    my $edited_page_id=$qdb-&gt;add_replace_db_page(&quot;bep...pg2&quot;, $page_id, $pagetype, &quot;&quot;);
    
    print $edited_page_id; # Prints 6
</PRE>
</P>
<P>
<STRONG>See Also:</STRONG>  <A HREF="#add_db_page">add_db_page</A>, <A HREF="#replace_db_page">replace_db_page</A>



</P>
<P>
<HR>
<H2><A NAME="add_user_to_role">add_user_to_role</A></H2>
<P>
Access to your application is governed by the roles in effect for your
application. Users can access your application only if you assign them to
one (or more) of these roles. You assign a user to a role using this call.
A common use of this call is to set up a second call, <A HREF="#send_invitation">send_invitation</A>, where you let the user know that the user can access the application.

</P>
<P>
If you want a user to have several roles, you can invoke this on the same
user several times, each time specifying a different role.

</P>
<P>
Although an application can use the standard default roles (viewer,
participant, administrator), each application can have its own set of
roles, with the access and permissions per role set up as needed by that
particular application. You can find out what the roles are for the current
application by calling 
<A HREF="#get_role_info">get_role_info</A>.

</P>
<P>
In order to make this call, you have to have administrator-level access in
the application.

</P>
<P>
See also <A HREF="#provision_user">provision_user</A> for an alternate way to assign roles to users.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The application-level dbid of the application for which the role will be
assigned.

</P>
<LI><STRONG><A NAME="item_User">User ID</A></STRONG>
<P>
The QuickBase userid of the user that will be added to the role.

</P>
<LI><STRONG><A NAME="item_Role">Role ID</A></STRONG>
<P>
The role id of the access role the user is being added to.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
True/False value for success/failure.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    print &quot;Success!&quot; if $qdb-&gt;add_user_to_role(&quot;6mpjiez8&quot;, &quot;112245.efy7&quot;, 10);
</PRE>
</P>
<P>
<STRONG>See Also:</STRONG>  <A HREF="#provision_user">provision_user</A>, <A HREF="#send_invitation">send_invitation</A>, <A HREF="#get_role_info">get_role_info</A>



</P>
<P>
<HR>
<H2><A NAME="apptoken">apptoken</A></H2>
<P>
Provides access to the apptoken property

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG><A NAME="item__optional_Apptoken">[optional] Apptoken</A></STRONG>
<P>
The apptoken for subsequent calls

</P>
</UL>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    # Prints the current apptoken
    print $qdb-&gt;apptoken();
    
    # Assigns &quot;b8qtx9rsf9gd...&quot; to the apptoken property
    $qdb-&gt;apptoken(&quot;b8qtx9rsf9gd...&quot;);
</PRE>
</P>
<P>
<HR>
<H2><A NAME="authenticate">authenticate</A></H2>
<P>
Initiates an authentication process, sending the username and password and
retrieving a unique ticket identifier. Ticket retrieved will be stored in
QuickBase instance and automatically inserted into subsequent API calls.                                

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG><A NAME="item_Username">Username</A></STRONG>
<P>
The username of the QuickBase user.

</P>
<LI><STRONG><A NAME="item_Password">Password</A></STRONG>
<P>
The password of the QuickBase user

</P>
</UL>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    # Authenticates the current $qdb object with QuickBase 
    # using the username/password my-username/my-password
    $qdb-&gt;authenticate(&quot;my-username&quot;,&quot;my-password&quot;);
</PRE>
</P>
<P>
<HR>
<H2><A NAME="change_record_owner">change_record_owner</A></H2>
<P>
The record owner, by default, is the user who created it. QuickBase can use
record ownership to restrict access. Normally, this is done through roles,
where a role can be set up to restrict view and/or modify access to the
record owner.

</P>
<P>
In order to call this method, you must have administrator rights to the
application.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
Table-level dbid of the table containing the record you wish to transfer
ownership of.

</P>
<LI><STRONG><A NAME="item_Record">Record ID</A></STRONG>
<P>
The ID of the record you wish to transfer ownership of.

</P>
<LI><STRONG><A NAME="item_New">New Owner</A></STRONG>
<P>
The screen name or email address of the new owner.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
True/False value for success/failure.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    print &quot;Record owner changed&quot; if $qdb-&gt;change_record_owner(&quot;bdb5rjd6h&quot;, 3, &quot;Muggsy&quot;);
</PRE>
</P>
<P>
<HR>
<H2><A NAME="change_user_role">change_user_role</A></H2>
<P>
This call allows you to assign a user to a different role.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The ID of the QuickBase application in which the user's role will change.

</P>
<LI><STRONG>User ID</STRONG>
<P>
The user ID of the user you wish to change the role of.

</P>
<LI><STRONG><A NAME="item_Current">Current Role ID</A></STRONG>
<P>
The current role ID of the user.

</P>
<LI><STRONG><A NAME="item__optional_New_Role_ID">[optional] New Role ID</A></STRONG>
<P>
The role ID of the role you wish to change the user to. If no ID is
specified for this parameter then the new role will be ``None''.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
True/False value for success/failure.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    $qdb-&gt;change_user_role(&quot;bdb5rjd6h&quot;, &quot;112248.5nzg&quot;, &quot;11&quot;, &quot;&quot;); # Changes role from 11 to &quot;None&quot;
</PRE>
</P>
<P>
<HR>
<H2><A NAME="clone_database">clone_database</A></H2>
<P>
Clone a QuickBase Application, including the schema, views, and users.
Optionally, the data can be cloned as well, and if so the file attachments
can be optionally included or excluded.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The unique ID of the QuickBase application you wish to copy.

</P>
<LI><STRONG><A NAME="item_Database">Database Name</A></STRONG>
<P>
The name of the new database.

</P>
<LI><STRONG><A NAME="item_Description">Description</A></STRONG>
<P>
The description of the new database.

</P>
<LI><STRONG><A NAME="item_Keep">Keep Data</A></STRONG>
<P>
Set to 1 to clone the data as well as the structure.

</P>
<LI><STRONG><A NAME="item_Exclude">Exclude Files</A></STRONG>
<P>
Set to 1 to exclude file attachments from the clone process.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
The DB ID of the new database.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    # Clone bdb5rjd6h, calling the clone &quot;New Database&quot; with the description 
    # &quot;My cloned database&quot;.  Keep the data and the file attachments.
    my $newdbid = $qdb-&gt;clone_database(&quot;bdb5rjd6h&quot;,&quot;New Database&quot;,&quot;My cloned database&quot;,1,0);
    
    print $newdbid; # Prints bddnc6pn7
</PRE>
</P>
<P>
<HR>
<H2><A NAME="create_database">create_database</A></H2>
<P>
Creates a new QuickBase application with the main application table
populated only with the built-in fields and optionally generates and
returns an apptoken for API use.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG><A NAME="item_Application">Application Name</A></STRONG>
<P>
The name of your new application

</P>
<LI><STRONG><A NAME="item_Application">Application Description</A></STRONG>
<P>
The description of your new application.

</P>
<LI><STRONG><A NAME="item__optional_Create_Apptoken">[optional] Create Apptoken</A></STRONG>
<P>
Set to 1 to create an apptoken for the new application.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
Returns a hash object containing the new application-level dbid of the new
application and the apptoken if one was created:

</P>
<P>
<PRE>  {
    dbid=&gt;&quot;bddnn3uz9&quot;,
    apptoken=&gt;&quot;cmzaaz3dgdmmwwksdb7zcd7a9wg&quot;
  }
</PRE>
</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    # Create a new application named Fuel Charter with the description Vehicle 
    # and Fuel Cost Tracker.
    # Also create an apptoken for the new application.
    my %newapp = $qdb-&gt;create_database(&quot;Fuel Charter&quot;, &quot;Vehicle and Fuel Cost Tracker&quot;, 1);
    
    print $newapp{'dbid'}; # Prints bddnn3uz9
    
    print $newapp{'apptoken'}; # Prints cmzaaz3dgdmmwwksdb7zcd7a9wg
</PRE>
</P>
<P>
<HR>
<H2><A NAME="create_table">create_table</A></H2>
<P>
Creates a QuickBase table.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG><A NAME="item_Parent">Parent Application ID</A></STRONG>
<P>
The application in which the table will be created.

</P>
<LI><STRONG><A NAME="item_Table">Table Name</A></STRONG>
<P>
The name of the table

</P>
<LI><STRONG><A NAME="item_Table">Table Pronoun</A></STRONG>
<P>
The pronoun that describes the items stored in the table

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
The new table's database identifier.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $newdbid = $qdb-&gt;create_table(&quot;bep...yae&quot;, &quot;Project Management&quot;, &quot;Projects&quot;);
    print $newdbid; # bep...pg2
</PRE>
</P>
<P>
<HR>
<H2><A NAME="delete_database">delete_database</A></H2>
<P>
If you have application administration rights you can use this call to
delete either a child table or the entire application, depending on the
dbid you supply.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The Application or Table ID of the database you wish to delete.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
True/False value for success/failure.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    print &quot;Application deleted!&quot; if $qdb-&gt;delete_database(&quot;6mpjiez8&quot;);
</PRE>
</P>
<P>
<HR>
<H2><A NAME="delete_field">delete_field</A></H2>
<P>
If you have application administration rights you can use this call to
delete a table field by specifying the field id. You have to use a
table-level dbid, otherwise you will get an Error 31: No such field.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The unique ID of the QuickBase table you wish to delete the field from.

</P>
<LI><STRONG><A NAME="item_Field">Field ID</A></STRONG>
<P>
The field ID of the field you wish to delete.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
True/False value for success/failure.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    print &quot;Field deleted!&quot; if $qdb-&gt;delete_field(&quot;6mpjiez8&quot;, 8);
</PRE>
</P>
<P>
<HR>
<H2><A NAME="delete_record">delete_record</A></H2>
<P>
If you have application administration rights you can use this call to
delete a table record. You have to use a table-level dbid, otherwise you
will get an error. If you want to delete several records at one time, you
might want to use <A HREF="#purge_records">purge_records</A>.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The unique ID of the QuickBase table you wish to delete the record from.

</P>
<LI><STRONG>Record ID</STRONG>
<P>
The record ID of the record you wish to delete.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
True/False value for success/failure.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    print &quot;Record deleted!&quot; if $qdb-&gt;delete_record(&quot;bddnc2idi&quot;, 18);
</PRE>
</P>
<P>
<HR>
<H2><A NAME="do_query">do_query</A></H2>
<P>
You invoke this on a table dbid to get records from the table. You can use
this to get all the records and fields, but typically you would want to get
only some of the records and only those fields you want, ordered and sorted
the way you want them to be.

</P>
<p>More information on queries can be found in the <a target="_blank"
href="http://member.developer.intuit.com/MyIDN/technical_resources/quickbase/framework/httpapiref/HTML_API_Programmers_Guide.htm">
QuickBase HTTP API Programmer's Guide</a> under "Building and Using Queries".</p>

<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The table-level dbid of the QuickBase database you wish to query.

</P>
<LI><STRONG><A NAME="item__optional_Query_Query_ID_Query_">[optional] Query/Query ID/Query Name</A></STRONG>
<P>
This parameter can be an ad hoc custom query or the ID or name of a query
currently saved in the QuickBase application.

</P>
<P>
If the parameter is blank all records will be returned.

</P>
<LI><STRONG><A NAME="item__optional_Column_List">[optional] Column List</A></STRONG>
<P>
A period-delimited list of field IDs to be returned. The order you list
these in is the order in which they'll be returned. Alternatively, you can
specify the value ``<CODE>a</CODE>'' to get all the columns.

</P>
<P>
If the parameter is blank the table's default columns will be returned.

</P>
<LI><STRONG><A NAME="item__optional_Sort_List">[optional] Sort List</A></STRONG>
<P>
A period delimited list of field IDs for sorting.

</P>
<LI><STRONG><A NAME="item__optional_Options">[optional] Options</A></STRONG>
<P>
A period-delimited list of options.

</P>
<P>
<PRE> OPTION         EFFECT
 -----------    -----------------------------------------------------------
 num-n          return a maximum of n records.
 onlynew        return only those records marked with new or updated flags.
 skp-n          skip the first n records returned by the query.
 sortorder-A    sort ascending
 sortorder-D    sort descending
</PRE>
</P>
<P>
<CODE>sortorder-</CODE><EM>x</EM> options work with the Sort List. If one sortorder is specified it will use
the first column in the Sort List, the second will use the second column,
etc.

</P>
<LI><STRONG><A NAME="item__optional_Format">[optional] Format</A></STRONG>
<P>
Specify ``<CODE>structured</CODE>'' to get additional table, field, and application information.

</P>
<P>
Specify a value other than <CODE>structured</CODE> to retrieve minimal information. ``<CODE>unstructured</CODE>'' is recommended in these cases.

</P>
<P>
Default if left blank is <CODE>structured</CODE>.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
The value returned by do_query depends on the value expected and the type
of format specified.

</P>
<P>
For either format, if the subroutine is called in array context then an
array of records will be returned.

</P>
<P>
Otherwise, the subroutine will return a hash with the following structure:

</P>
<P>
<PRE>    {
        action=&gt;&quot;API_DoQuery&quot;,
        errcode=&gt;0,
        errtext=&gt;&quot;No error&quot;,
        qid=&gt;0,
        qname=&gt;'',
        name=&gt;&quot;My Table&quot;,
        desc=&gt;&quot;My table description&quot;,
        table_id=&gt;&quot;bdb5rjd6g&quot;,
        cre_date=&gt;1204586581894,
        mod_date=&gt;1206583187767,
        next_record_id=&gt;34
        next_field_id=&gt;24
        next_query_id=&gt;5
        def_sort_fid=&gt;6
        def_sort_order=&gt;1
        lastluserid=&gt;0,
        
        # fields only available via &quot;structured&quot; format
        fields=&gt;{
            by_id=&gt;{
                &quot;5&quot;=&gt;{
                    id=&gt;5,
                    field_type=&gt;&quot;userid&quot;,
                    base_type=&gt;&quot;int32&quot;,
                    role=&gt;&quot;modifier&quot;,
                    mode=&gt;&quot;&quot;,
                    label=&gt;&quot;Last Modified By&quot;,
                    nowrap=&gt;1,
                    bold=&gt;0,
                    required=&gt;0,
                    appears_by_default=&gt;0,
                    find_enabled=&gt;1,
                    allow_new_choices=&gt;1,
                    sort_as_given=&gt;0,
                    carrychoices=&gt;1,
                    foreignkey=&gt;0,
                    unique=&gt;0,
                    doesdatacopy=&gt;0,
                    fieldhelp=&gt;&quot;&quot;,
                    display_user=&gt;&quot;fullnamelf&quot;,
                    default_kind=&gt;none,
                    num_lines=&gt;0,
                    append_only=&gt;0,
                    allowHTML=&gt;0,
                    has_extension=&gt;0,
                    max_versions=&gt;&quot;&quot;,
                    see_versions=&gt;&quot;&quot;,
                    use_new_window=&gt;&quot;&quot;,
                    comma_start=&gt;&quot;&quot;,
                    does_average=&gt;&quot;&quot;,
                    does_total=&gt;&quot;&quot;,
                    blank_is_zero=&gt;&quot;&quot;
                },
                &quot;6&quot;=&gt;{
                    id=&gt;6,
                    field_type=&gt;&quot;phone&quot;,
                    base_type=&gt;&quot;text&quot;,
                    role=&gt;&quot;&quot;,
                    mode=&gt;&quot;&quot;,
                    label=&gt;&quot;Business Phone Number&quot;,
                    nowrap=&gt;0,
                    bold=&gt;0,
                    required=&gt;1,
                    appears_by_default=&gt;1,
                    find_enabled=&gt;1,
                    allow_new_choices=&gt;0,
                    sort_as_given=&gt;0,
                    carrychoices=&gt;0,
                    foreignkey=&gt;0,
                    unique=&gt;1,
                    doesdatacopy=&gt;0,
                    fieldhelp=&gt;&quot;This is the phone number&quot;,
                    display_user=&gt;&quot;&quot;,
                    default_kind=&gt;&quot;&quot;,
                    num_lines=&gt;1,
                    append_only=&gt;0,
                    allowHTML=&gt;0,
                    has_extension=&gt;1,
                    max_versions=&gt;&quot;&quot;,
                    see_versions=&gt;&quot;&quot;,
                    use_new_window=&gt;&quot;&quot;,
                    comma_start=&gt;&quot;&quot;,
                    does_average=&gt;&quot;&quot;,
                    does_total=&gt;&quot;&quot;,
                    blank_is_zero=&gt;&quot;&quot;
                }
            },
            by_label=&gt;{
                &quot;Last Modified By&quot;=&gt;{
                    # Repeat of structure found in fields-&gt;by_id-&gt;5
                },
                &quot;Phone Number&quot;=&gt;{
                    # Repeat of structure found in fields-&gt;by_id-&gt;6
                }
            }
        },
        
        # queries only available via &quot;structured&quot; format
        queries=&gt;{
            by_id=&gt;{
                &quot;1&quot;=&gt;{
                    qyname=&gt;&quot;List All&quot;,
                    qytype=&gt;&quot;table&quot;,
                    qycrit=&gt;&quot;&quot;,
                    qyopts=&gt;&quot;&quot;,
                    qycalst=&gt;&quot;0.0&quot;,
                    qyclst=&gt;&quot;&quot;,
                    qydesc=&gt;&quot;&quot;,
                    qyslst=&gt;&quot;&quot;,
                    qyform=&gt;&quot;&quot;,
                    qyflbl=&gt;&quot;&quot;,
                    qyftyp=&gt;&quot;&quot;
                },
                &quot;2&quot;=&gt;{
                    qyname=&gt;&quot;List Changes&quot;,
                    qytype=&gt;&quot;table&quot;,
                    qycrit=&gt;&quot;&quot;,
                    qyopts=&gt;&quot;so-D.onlynew.&quot;,
                    qycalst=&gt;&quot;0.0&quot;,
                    qyclst=&gt;&quot;&quot;,
                    qydesc=&gt;&quot;Sorted by Date Modified&quot;,
                    qyslst=&gt;&quot;2&quot;,
                    qyform=&gt;&quot;&quot;,
                    qyflbl=&gt;&quot;&quot;,
                    qyftyp=&gt;&quot;&quot;
                }
            },
            by_name=&gt;{
                &quot;List All&quot;=&gt;{
                    # Repeat of structure found in queries-&gt;by_id-&gt;1
                },
                &quot;List Changes&quot;=&gt;{
                    # Repeat of structure found in queries-&gt;by_id-&gt;2
                }
            }
        },
        
        # users only available via &quot;structured&quot; format
        users=&gt;{
            &quot;112149.bhsv&quot;=&gt;&quot;AppBoss&quot;
        },
        
        # if the subroutine is called in array context then only this array will return
        records=&gt;[
            
            # Structured format
            {
                &quot;5&quot;=&gt;&quot;112149.bhsv&quot;,
                &quot;Last Modified By&quot;=&gt;&quot;112149.bhsv&quot;,
                
                &quot;6&quot;=&gt;&quot;(123) 333-4321 x34566&quot;,
                &quot;Business Phone Number&quot;=&gt;&quot;(123) 333-4321 x34566&quot;
            },
            
            # Unstructured format
            {
                last_modified_by=&gt;&quot;AppBoss&quot;,
                business_phone_number=&gt;&quot;(123) 333-4321 x34566&quot;
            },
            
            {
                # etc...
            }
        ]
    }
</PRE>
</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    # Place the request
    my %results = $qdb-&gt;do_query(
        &quot;bdb5rjd6h&quot;,         # Table to query
        &quot;{'6'.SW.'(123)'}&quot;,  # Search for phone numbers that start with (123)
        &quot;5.6&quot;,               # Columns to return
        &quot;5&quot;,                 # Columns to sort by
        &quot;sortorder-A&quot;,       # Sort ascending
        &quot;structured&quot;         # Request structured results
    );
    
    # Loop through the records of the results
    foreach my $record(@{$results-&gt;{'records'}}){
        
        # Retrieve the Contact username of the current record by looking up the
        # user id in the results-&gt;users hash
        my $user = $results-&gt;{'users'}{$record-&gt;{'Contact'}};
        
        # Prints &quot;Ragnar: (123) 333-4321 x34566&quot;
        print &quot;$user: &quot; . $record-&gt;{'Business Phone Number'} . &quot;\n&quot;;
    }
    
    # Alternative method using array context
    # Using query ID 6 and defaults for other params
    foreach my $record($qdb-&gt;do_query(&quot;bdb5rjd6h&quot;,&quot;6&quot;)){
        print $results-&gt;{'users'}{$record-&gt;{'Contact'}} . &quot;: &quot; . $record-&gt;{'Business Phone Number'} . &quot;\n&quot;;
    }
</PRE>
</P>
<P>
<HR>
<H2><A NAME="edit_record">edit_record</A></H2>
<P>
You can use this to change any of the editable field values in the
specified record. Only those fields specified are changed, unspecified
fields are left unchanged.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The QuickBase dbid of the table in which the record resides.

</P>
<LI><STRONG>Record ID</STRONG>
<P>
The record ID of the record you want to edit.

</P>
<LI><STRONG><A NAME="item_Fields">Fields/Values</A></STRONG>
<P>
A hash or array reference of field name/value pairs for editing. e.g. 
<CODE>{&quot;email&quot;=&gt;&quot;cucamonga@chuck.com&quot;}</CODE> or <CODE>[{&quot;name&quot;=&gt;&quot;email&quot;, &quot;value&quot;=&gt;&quot;cucamonga@chuck.com&quot;}]</CODE>



</P>
<P>
The hash reference will assume that hash keys are field names if they do
not match the regex <CODE>m/^\d+$/</CODE>. Otherwise they will be assumed to be field IDs.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
A hash reference containing the number of fields changed, the update ID,
and the full content of the server response in the following format:

</P>
<P>
<PRE>    {
        num_fields_changed=&gt;5,
        update_id=&gt;1205700275470,
        content=&gt;'&lt;?xml version=&quot;1.0&quot; ?&gt;\n&lt;qdbapi&gt;\n\t...'
    }
</PRE>
</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    # Update record 25 in table bdb5rjd6h and change the email field to &quot;cucamonga@chuck.com&quot;
    my %results=$qdb-&gt;edit_record(&quot;bdb5rjd6h&quot;,&quot;25&quot;,{&quot;email&quot;=&gt;&quot;cucamonga@chuck.com&quot;});
    
    # Prints &quot;1205700275470 1&quot;
    print $results-&gt;{'update_id'} . &quot; &quot; . $results-&gt;{'num_fields_changed'} . &quot;\n&quot;;
</PRE>
</P>
<P>
<STRONG>See Also:</STRONG>  <A HREF="#edit_record_with_update_id">edit_record_with_update_id</A>



</P>
<P>
<HR>
<H2><A NAME="edit_record_with_update_id">edit_record_with_update_id</A></H2>
<P>
Like <A HREF="#edit_record">edit_record</A>, you can use this to change any of the editable field values in the
specified record. Unlike <A HREF="#edit_record">edit_record</A>, the update will only be successful if the update_id provided is valid.
This is to prevent potential collisions with multiple people editing the
same record.

</P>
<P>
As before, only those fields specified are changed, unspecified fields are
left unchanged.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The QuickBase dbid of the table in which the record resides.

</P>
<LI><STRONG>Record ID</STRONG>
<P>
The record ID of the record you want to edit.

</P>
<LI><STRONG><A NAME="item_Update">Update ID</A></STRONG>
<P>
The current Update ID of the record you want to edit.

</P>
<LI><STRONG>Fields/Values</STRONG>
<P>
A hash or array reference of field name/value pairs for editing. e.g. 
<CODE>{&quot;email&quot;=&gt;&quot;cucamonga@chuck.com&quot;}</CODE> or <CODE>[{&quot;name&quot;=&gt;&quot;email&quot;, &quot;value&quot;=&gt;&quot;cucamonga@chuck.com&quot;}]</CODE>



</P>
<P>
The hash reference will assume that hash keys are field names if they do
not match the regex <CODE>m/^\d+$/</CODE>. Otherwise they will be assumed to be field IDs.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
If unsuccessful, a False value.

</P>
<P>
If successful, a hash reference containing the number of fields changed,
the update ID, and the full content of the server response in the following
format:

</P>
<P>
<PRE>    {
        num_fields_changed=&gt;3,
        update_id=&gt;992017018414,
        content=&gt;'&lt;?xml version=&quot;1.0&quot; ?&gt;\n&lt;qdbapi&gt;\n\t...'
    }
</PRE>
</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    # Update record 25 in table bdb5rjd6h and change the email field to &quot;cucamonga@chuck.com&quot;
    my %results=$qdb-&gt;edit_record(&quot;bdb5rjd6h&quot;,&quot;25&quot;,1205700275470,{&quot;email&quot;=&gt;&quot;cucamonga@chuck.com&quot;});
    
    # Prints &quot;992017018414 1&quot;
    print $results-&gt;{'update_id'} . &quot; &quot; . $results-&gt;{'num_fields_changed'} . &quot;\n&quot;;
</PRE>
</P>
<P>
<STRONG>See Also:</STRONG>  <A HREF="#edit_record">edit_record</A>



</P>
<P>
<HR>
<H2><A NAME="error">error</A></H2>
<P>
A method for accessing the current error code.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG><A NAME="item__optional_Error_Code">[optional] Error Code</A></STRONG>
<P>
If present, will set the error code to the provided value.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
The current error code.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    print $qdb-&gt;error; # Prints &quot;0&quot;
    
    $qdb-&gt;create_database(&quot;Fuel Charter&quot;, &quot;Vehicle and Fuel Cost Tracker&quot;, 1);
    
    print $qdb-&gt;error; # Prints &quot;74&quot; (You are not allowed to create applications)
</PRE>
</P>
<P>
<HR>
<H2><A NAME="errortext">errortext</A></H2>
<P>
A method for accessing the current error text.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG><A NAME="item__optional_Error_Text">[optional] Error Text</A></STRONG>
<P>
If present, will set the error text to the provided value.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
The current error text.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    print $qdb-&gt;errortext; # Prints &quot;&quot;
    
    $qdb-&gt;create_database(&quot;Fuel Charter&quot;, &quot;Vehicle and Fuel Cost Tracker&quot;, 1);
    
    print $qdb-&gt;errortext; # Prints &quot;You are not allowed to create applications&quot;
</PRE>
</P>
<P>
<HR>
<H2><A NAME="field_add_choices">field_add_choices</A></H2>
<P>
If you have administrative rights you can add new choices to any field
through this method. If you don't have administrative rights you can only
invoke this method if the multiple-choice field properties are set to allow
new choices to be added.

</P>
<P>
If the choice you add already exists in the multiple choice list, the
choice will not be added (no duplicates).

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The QuickBase dbid of the table the field resides in.

</P>
<LI><STRONG>Field ID</STRONG>
<P>
The field ID of the field you wish to add choices to.

</P>
<LI><STRONG><A NAME="item_Choices">Choices</A></STRONG>
<P>
An array reference of choices to be added, e.g. <CODE>[&quot;Choice 1&quot;,&quot;Choice 2&quot;,&quot;etc...&quot;]</CODE>



</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
The number of choices that were added to the field.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $num_added = $qdb-&gt;field_add_choices(&quot;bdb5rjd6h&quot;, 25, [&quot;Choice 1&quot;,&quot;Choice 2&quot;]);
    
    print $num_added; # Prints &quot;2&quot;
</PRE>
</P>
<P>
<STRONG>See Also:</STRONG>  <A HREF="#field_remove_choices">field_remove_choices</A>



</P>
<P>
<HR>
<H2><A NAME="field_remove_choices">field_remove_choices</A></H2>
<P>
If you have administrative rights you can remove choices from any field
through this method. If you don't have administrative rights you can only
invoke this method if the choice was created by you.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The QuickBase dbid of the table the field resides in.

</P>
<LI><STRONG>Field ID</STRONG>
<P>
The field ID of the field you wish to remove choices from.

</P>
<LI><STRONG>Choices</STRONG>
<P>
An array reference of choices to be removed, e.g. <CODE>[&quot;Choice 1&quot;,&quot;Choice 2&quot;,&quot;etc...&quot;]</CODE>



</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
The number of choices that were removed from the field.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $num_removed = $qdb-&gt;field_remove_choices(&quot;bdb5rjd6h&quot;, 25, [&quot;Choice 1&quot;,&quot;Choice 2&quot;]);
    
    print $num_removed; # Prints &quot;2&quot;
</PRE>
</P>
<P>
<STRONG>See Also:</STRONG>  <A HREF="#field_add_choices">field_add_choices</A>



</P>
<P>
<HR>
<H2><A NAME="find_db_by_name">find_db_by_name</A></H2>
<P>
This method can be used to get the application-level dbid of an application
whose name you know. Only those applications that have granted you access
rights will be searched.

</P>
<P>
Because there can exist multiple applications with the same name, you
should be aware that more than one application dbid can be returned.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>Database Name</STRONG>
<P>
The name of the database you want to search for.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
An array of dbids for databases matching the name you searched for.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my @dbids = $qdb-&gt;find_db_by_name(&quot;My Application&quot;);
    
    print $dbids[0]; # Prints &quot;bdcagynhs&quot;
</PRE>
</P>
<P>
<HR>
<H2><A NAME="gen_add_record_form">gen_add_record_form</A></H2>
<P>
This method returns the standard QuickBase new record add page (in HTML)
for the table whose dbid you specify. It contains edit fields for the user
to fill and a save button to add the record to the database.

</P>
<P>
If you want to pre-fill any fields you can do so by supplying one or more
field/value pairs in the request. Any fields not pre-filled or filled in by
the user will get the default values set in the table field properties.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The table-level dbid of the table you want to generate the form for.

</P>
<LI><STRONG><A NAME="item__optional_Field_Value_List">[optional] Field/Value List</A></STRONG>
<P>
A hash reference of field/value pairs for default values, e.g. 
<CODE>{&quot;email&quot;=&gt;&quot;cucamonga@chuck.com&quot;, &quot;phone&quot;=&gt;&quot;(123) 456-7890&quot;}</CODE>



</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
Returns an HTML page containing the record add page with any pre-filled
values.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $html = $qdb-&gt;gen_add_record_form(&quot;bddrqepes&quot;, {&quot;email&quot;=&gt;&quot;cucamonga@chuck.com&quot;, &quot;phone&quot;=&gt;&quot;(123) 456-7890&quot;});
    
    print $html; # Prints the html page
</PRE>
</P>
<P>
<HR>
<H2><A NAME="gen_results_table">gen_results_table</A></H2>
<P>
This method is typically used in its URL form in an HTML page to embed the
results as HTML, but it can also return results as a JavaScript array, in
CSV format, or as tab separated values.

</P>
<P>
The SDK does not yet parse the results of any of these formats, and simply
returns the raw response.

</P>
<P>
<STRONG>Parameters (A)</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The QuickBase table-level dbid against which the query will be executed.

</P>
<LI><STRONG><A NAME="item__optional_Query">[optional] Query</A></STRONG>
<P>
This parameter can be an ad hoc custom query or the ID or name of a query
currently saved in the QuickBase application.

</P>
<P>
If the parameter is blank all records will be returned.

</P>
<LI><STRONG>[optional] Column List</STRONG>
<P>
A period-delimited list of field IDs to be returned. The order you list
these in is the order in which they'll be returned. Alternatively, you can
specify the value ``<CODE>a</CODE>'' to get all the columns.

</P>
<P>
If the parameter is blank the table's default columns will be returned.

</P>
<LI><STRONG>[optional] Sort List</STRONG>
<P>
A period delimited list of field IDs for sorting.

</P>
<LI><STRONG><A NAME="item__optional_Format_HTML">[optional] Format: HTML</A></STRONG>
<P>
Leave this parameter blank if you do not wish to receive HTML formatted
results.

</P>
<P>
Set to 1 to use the CSS styles that render the HTML table with the
QuickBase look and feel prior to April 11, 2003.

</P>
<P>
Set to n to use the CSS styles that render the HTML table with the
QuickBase look and feel introduced on April 11, 2003.

</P>
<LI><STRONG><A NAME="item__optional_Format_JavaScript_Ar">[optional] Format: JavaScript Array</A></STRONG>
<P>
Set to 1 if you wish to receive JavaScript Array formatted results,
otherwise leave blank.

</P>
<LI><STRONG>[optional] Options</STRONG>
<P>
A period-delimited list of options.

</P>
<P>
<PRE> OPTION         EFFECT
 -----------    -----------------------------------------------------------
 num-n          return a maximum of n records.
 onlynew        return only those records marked with new or updated flags.
 skp-n          skip the first n records returned by the query.
 sortorder-A    sort ascending
 sortorder-D    sort descending
 ned            omit the edit icons in HTML table format
 nvw            omit the view icons in HTML table format
 nfg            omit the new and updated icons in HTML table format
 phd            plain (non-hyperlinked) headers
 abs            absolute URLs
 csv            comma-separated value output format
 tsv            tab-separated value output format
</PRE>
</P>
<P>
<CODE>sortorder-</CODE><EM>x</EM> options work with the Sort List. If one sortorder is specified it will use
the first column in the Sort List, the second will use the second column,
etc.

</P>
</UL>
<P>
<STRONG>Parameters (B)</STRONG>



</P>
<P>
Because of the number of parameters this method accepts, it will also
accept an alternative style wherein the 2nd through 7th parameters can be
combined into a single hash reference. This aids readability and cuts down
on unnecessary empty parameters.

</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The QuickBase table-level dbid against which the query will be executed.

</P>
<LI><STRONG><A NAME="item_Options">Options Hash</A></STRONG>
<P>
A hash object reference containing the options you wish to set in the
following format:

</P>
<P>
<PRE>    {
        query=&gt;&quot;&quot;,
        clist=&gt;&quot;&quot;,
        slist=&gt;&quot;&quot;,
        jht=&gt;&quot;&quot;,
        jsa=&gt;&quot;&quot;,
        options=&gt;&quot;&quot;
    }
</PRE>
</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
Currently returns the raw response contents from the API call.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $results = $qdb-&gt;gen_results_table(&quot;bddrqepes&quot;,{query=&gt;&quot;{'0'.CT.''}&quot;,options=&gt;'csv'});
    
    print $results; # Prints &quot;one,two,three,etc.&quot;
</PRE>
</P>
<P>
<HR>
<H2><A NAME="get_complete_csv">get_complete_csv</A></H2>
<P>
Performs a <A HREF="#gen_results_table">gen_results_table</A> call, specifying all columns and all records and the CSV format.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The QuickBase dbid of the database you want the CSV of.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
CSV text.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $csv = $qdb-&gt;get_complete_csv(&quot;bdcagynhs&quot;);
</PRE>
</P>
<P>
<HR>
<H2><A NAME="get_db_info">get_db_info</A></H2>
<P>
You can invoke this on the application-level dbid or the table dbid to get
metadata information, such as the last time the table was modified. For
example, you might use this function to find out if the table has changed
since you last used it, or to find out if a new record has been added to
the table.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
QuickBase application- or table-level dbid.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
Returns a hash of the following format:

</P>
<P>
{

</P>
<P>
<PRE>    dbname=&gt;&quot;Test DB&quot;,
    version=&gt;&quot;1.42&quot;,
    lastRecModTime=&gt;1205806751959,
    lastModifiedTime=&gt;1205877093679,
    createdTime=&gt;1204745351407,
    numRecords=&gt;3,
    mgrID=&gt;112149.bhsv,
    mgrName=&gt;AppBoss
}
</PRE>
</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my %dbinfo = $qdb-&gt;get_db_info(&quot;bddrqepes&quot;);
    
    print $dbinfo{'dbname'}; # Prints &quot;Test DB&quot;
</PRE>
</P>
<P>
<HR>
<H2><A NAME="get_db_page">get_db_page</A></H2>
<P>
QuickBase allows you to store various types of pages, ranging from
user-guide pages for your application to Exact Forms which are used to
automate insertion of data into Word documents using a special Word
template from QuickBase. This call lets you retrieve one of those pages in
HTML.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The QuickBase dbid of the application in which the page is stored.

</P>
<LI><STRONG><A NAME="item_Page">Page ID or Page Name</A></STRONG>
<P>
The ID or name of the page you want to retrieve.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
The requested page is returned in HTML.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $page = $qdb-&gt;get_db_page(&quot;bdb5rjd6h&quot;, 6);
    
    print $page; # Prints &quot;&lt;html&gt;&lt;head&gt;...&quot;
</PRE>
</P>
<P>
<HR>
<H2><A NAME="get_db_var">get_db_var</A></H2>
<P>
DBVars are variables you can create and set values in at the application
level, using the application-level dbid. This lets you get the values from
these DBVars.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The application-level dbid of the application the variable is stored in.

</P>
<LI><STRONG><A NAME="item_Variable">Variable Name</A></STRONG>
<P>
The name of the variable whose value you wish to retrieve.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
The value of the DBVar requested.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $color = $qdb-&gt;get_db_var(&quot;bddrqepes&quot;, &quot;MyColor&quot;);
    
    print $color; # Prints &quot;blue&quot;
</PRE>
</P>
<P>
<HR>
<H2><A NAME="get_file">get_file</A></H2>
<P>
Retrieves a file from QuickBase for given a table, record, and field.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
Table-level dbid containing the file.

</P>
<LI><STRONG>Record ID</STRONG>
<P>
The record ID containing the file.

</P>
<LI><STRONG>Field ID</STRONG>
<P>
The field ID of the file.

</P>
<LI><STRONG><A NAME="item__optional_Version">[optional] Version</A></STRONG>
<P>
The version number of the file. Omitting this parameter, or using 0, will
return the most recent version.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
An array containing the file as the first element and the HTTP::Response
headers as the second element.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my ($file) = $qdb-&gt;get_file(&quot;bdcagynhs&quot;, 78, 13);
    
    print &quot;$file&quot;; # Prints retrieved file's contents
</PRE>
</P>
<P>
<HR>
<H2><A NAME="get_num_records">get_num_records</A></H2>
<P>
Returns the number of records in the table.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The table-level dbid of the table you wish to query.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
The number of records in the table.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $num_records = $qdb-&gt;get_num_records(&quot;bdb5rjd6h&quot;);
    
    print $num_records; # Prints 17
</PRE>
</P>
<P>
<HR>
<H2><A NAME="get_one_time_ticket">get_one_time_ticket</A></H2>
<P>
Returns a single-use ticket that expires after five minutes. After use, the
ticket is no longer valid.

</P>
<P>
Intended for use with API_UploadFile, which is necessary only in
environments that do not have access to the local filesystem.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<P>
<EM>None.</EM>



</P>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
A single-use ticket.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    print $qdb-&gt;get_one_time_ticket(); # Prints &quot;5_besfdf9uc...&quot;
</PRE>
</P>
<P>
<HR>
<H2><A NAME="get_record">get_record</A></H2>
<P>
You invoke this on a table-level dbid to get all of the fields in a record.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The table-level dbid of the QuickBase table the record is in.

</P>
<LI><STRONG>Record ID</STRONG>
<P>
The Record ID of the record you wish to retrieve.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
Returns a hash of the following format:

</P>
<P>
<PRE>    {
        rid=&gt;20,
        num_fields=&gt;28,
        update_id=&gt;1205780029699,
        user=&gt;{
            fid=&gt;6,
            name=&gt;&quot;user&quot;,
            type=&gt;&quot;User&quot;,
            value=&gt;&quot;Lodbrok&quot;
        },
        f_6=&gt;{
            # reference to same hash as user
        },
        &quot;file attachment&quot;=&gt;{
            fid=&gt;7,
            name=&gt;&quot;file attachment&quot;,
            type=&gt;&quot;File Attachment&quot;,
            value=&gt;&quot;BatchID.html&quot;
        },
        f_7=&gt;{
            # reference to same hash as file attachment
        }
    }
</PRE>
</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my %record = $qdb-&gt;get_record(&quot;bdb5rjd6h&quot;, 20);
    
    print $record{'file attachment'}{'value'}; # Prints &quot;BatchID.html&quot;
</PRE>
</P>
<P>
<HR>
<H2><A NAME="get_record_as_html">get_record_as_html</A></H2>
<P>
You invoke this call on a table-level dbid to return a record as an HTML
fragment that can be embedded in another HTML page.

</P>
<P>
Most frequently this method will be called via the GET method in a URL.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
QuickBase table-level database ID of the table containing the record

</P>
<LI><STRONG>Record ID</STRONG>
<P>
The Record ID (or rid) of the record you wish to retrieve

</P>
<LI><STRONG>[optional] Format</STRONG>
<P>
Set to 1 to return the information in Javascript format. The javascript
will contain a function called qdbWrite which, when called, will output the
HTML via document.write commands.

</P>
<P>
Omit this parameter for plain HTML format.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
A string containing either a Javascript or an HTML representation of the
record.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $html = $qdb-&gt;get_record_as_html(&quot;bdb5rjd6h&quot;, 27);
    
    # Prints HTML output, including css style information, links to javascript 
    # files on QuickBase's server, and the table containing the record.
    print $html; 
</PRE>
</P>
<P>
<HR>
<H2><A NAME="get_record_info">get_record_info</A></H2>
<P>
Invoking this call on a table-level dbid will return all the fields of a
record, similar to <A HREF="#do_query">do_query</A> with all fields specified.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
Table-level QuickBase database ID in which the record resides

</P>
<LI><STRONG>Record ID</STRONG>
<P>
The Record ID (or rid) of the record

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
Currently returns unprocessed XML response.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $xml = $qdb-&gt;get_record_info(&quot;bdcagynhs&quot;, 27);
    
    print $xml;
    
    ###################################################
    
    Prints:
    &lt;?xml version=&quot;1.0&quot; ?&gt;
    &lt;qdbapi&gt;
    &lt;action&gt;API_GetRecordInfo&lt;/action&gt;
    &lt;errcode&gt;0&lt;/errcode&gt;
    &lt;errtext&gt;No error&lt;/errtext&gt;
    &lt;rid&gt;20&lt;/rid&gt;
    &lt;num_fields&gt;28&lt;/num_fields&gt;
    &lt;update_id&gt;1205780029699&lt;/update_id&gt;
    
    &lt;field&gt;
    &lt;fid&gt;6&lt;/fid&gt;
    &lt;name&gt;user&lt;/name&gt;
    &lt;type&gt;User&lt;/type&gt;
    &lt;value&gt;Lodbrok&lt;/value&gt;
    &lt;printable&gt;Boneless, Ivar&lt;/printable&gt;
    &lt;/field&gt;
    &lt;field&gt;
    &lt;fid&gt;7&lt;/fid&gt;
    &lt;name&gt;file attachment&lt;/name&gt;
    &lt;type&gt;File Attachment&lt;/type&gt;
    &lt;value&gt;BatchID.html&lt;/value&gt;
    &lt;/field&gt;
    .
    .
    .
    &lt;/qbdapi&gt;
</PRE>
</P>
<P>
<HR>
<H2><A NAME="get_rids">get_rids</A></H2>
<P>
Used to retrieve a list of record IDs in a table.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
Table-level QuickBase database ID

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
Array of record IDs.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my @rids = $qdb-&gt;get_rids(&quot;bdb5rjd6h&quot;);
    
    print join(&quot;, &quot;, @rids);
    
    # Prints: 1, 2, 3, 4, etc.
</PRE>
</P>
<P>
<HR>
<H2><A NAME="get_role_info">get_role_info</A></H2>
<P>
Use this method to get all of the roles that apply to an application.

</P>
<P>
Each application can have its own set or foles that govern user access to
that application. To find out what roles are available in an application,
you can invoke this method to return all of the roles and their information
(name, ID, application access level).

</P>
<P>
The access level returned is one of these available access types:

</P>
<UL>
<LI><STRONG><A NAME="item_Basic">Basic Access (able to view/modify/add records, depending on permissions)</A></STRONG>
<LI><STRONG><A NAME="item_Basic">Basic Access with Share (same as Basic, but can share application with others)</A></STRONG>
<LI><STRONG><A NAME="item_Administrator">Administrator (full administrative access)</A></STRONG>
</UL>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
Application-level QuickBase database ID

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
An array of roles in the following format:

</P>
<P>
<PRE>    [
        {
            id        =&gt; 10,
            name      =&gt; &quot;Viewer&quot;,
            access_id =&gt; 3,
            access    =&gt; &quot;Basic Access&quot;
        },
        {
            id        =&gt; 11,
            name      =&gt; &quot;Participant&quot;,
            access_id =&gt; 3,
            access    =&gt; &quot;Basic Access&quot;
        },
        {
            id        =&gt; 12,
            name      =&gt; &quot;App Admin&quot;,
            access_id =&gt; 1,
            access    =&gt; &quot;Administrator&quot;
        }
    ]
</PRE>
</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    # Retrieve the array of roles
    my @roles = $qdb-&gt;get_role_info(&quot;bddrqepes&quot;);
    
    # Print a list of role names and their access level
    foreach my $role (@roles){
        print $role{&quot;name&quot;}.&quot;: &quot;.$role{&quot;access&quot;}.&quot;\n&quot;;
    }
</PRE>
</P>
<P>
<HR>
<H2><A NAME="get_schema">get_schema</A></H2>
<P>
If you invoke this method on an application-level dbid it will return
information about the application, such as any DBVars created for it and
all child table dbids available.

</P>
<P>
If you invoke this method on a table-level dbid the DBVars are also listed,
but there will additionally be table-related information such as queries,
field IDs (fids), and the current property settings for each field.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
An application-level or table-level QuickBase database ID.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
A detailed hash object containing the application or table schema in the
following format:

</P>
<P>
<PRE>    {
        &quot;name&quot;           =&gt; &quot;My Application/Table&quot;,
        &quot;desc&quot;           =&gt; &quot;My application/table description&quot;,
        &quot;table_id&quot;       =&gt; &quot;bdb5rjd6h&quot;, # dbid, field name same for applications and tables
        &quot;cre_date&quot;       =&gt; 1204586581894,
        &quot;mod_date&quot;       =&gt; 1206394201119,
        &quot;next_record_id&quot; =&gt; 1,
        &quot;next_field_id&quot;  =&gt; 1,
        &quot;next_query_id&quot;  =&gt; 7,
        &quot;def_sort_fid&quot;   =&gt; 5,
        &quot;def_sort_order&quot; =&gt; 6,
        &quot;variables&quot; =&gt; {
            &quot;Blue&quot; =&gt; 14,
            &quot;Jack&quot; =&gt; 14,
            &quot;Magenta&quot; =&gt; 12,
            &quot;usercode&quot; =&gt; 14
        },
        
        # Available only in application-level dbids
        &quot;chdbids&quot; =&gt; {
            &quot;_dbid_sample_database&quot; =&gt; &quot;bdb5rjd6g&quot;,
            &quot;_dbid_pronouns&quot; =&gt; &quot;bddrydqhg&quot;
        },
        
        # Available only in table-level dbids
        &quot;queries&quot; =&gt; {
            &quot;by_id&quot; =&gt; {
                &quot;1&quot; =&gt; {
                    &quot;id&quot;      =&gt; 1,
                    &quot;qyname&quot;  =&gt; &quot;List All&quot;,
                    &quot;qytype&quot;  =&gt; &quot;table&quot;,
                    &quot;qycalst&quot; =&gt; 0.0
                }
            },
            &quot;by_name&quot; =&gt; {
                &quot;List All&quot; =&gt; {
                    &quot;id&quot;      =&gt; 1,
                    &quot;qyname&quot;  =&gt; &quot;List All&quot;,
                    &quot;qytype&quot;  =&gt; &quot;table&quot;,
                    &quot;qycalst&quot; =&gt; 0.0
                }
            }
        }
    }
</PRE>
</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    # Example code goes here
</PRE>
</P>
<P>
<HR>
<H2><A NAME="get_ticket">get_ticket</A></H2>
<P>
Returns a new authentication ticket from QuickBase.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG><A NAME="item__optional_Username">[optional] Username</A></STRONG>
<P>
The username of the QuickBase user.

</P>
<LI><STRONG><A NAME="item__optional_Password">[optional] Password</A></STRONG>
<P>
The password of the QuickBase user.

</P>
</UL>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    # Prints a new authentication ticket
    print $qdb-&gt;get_ticket(&quot;my-username&quot;,&quot;my-password&quot;);
</PRE>
</P>
<P>
<HR>
<H2><A NAME="get_user_info">get_user_info</A></H2>
<P>
You invoke this method to get the user name and userid associated with the
specified email address (used for QuickBase login). This call is useful in
the contet of granting a user access rights to your application and then
inviting that user to your application. This call is typically made to
return the QuickBase userid for a user whose email address you know, in
preparation for subsequent calls to <A HREF="#add_user_to_role">add_user_to_role</A> (grant access rights) and 
<A HREF="#send_invitation">send_invitation</A>, both of which require the userid.

</P>
<P>
The user email you specify must be recognized in QuickBase or this call
won't work. For users not registered with QuickBase use the alternative 
<A HREF="#provision_user">provision_user</A>.

</P>
<P>
If the email parameter is not supplied the ticket will be used to determine
the user, and information for the currently authenticated user will be
returned.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG><A NAME="item__optional_Email">[optional] Email</A></STRONG>
<P>
Email address of the registered QuickBase user for whom you wish to
retrieve information. If omitted, the currently authenticated user's
information will be returned.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
A hash object of the following format:

</P>
<P>
<PRE>    {
        &quot;id&quot;         =&gt; &quot;112149.bhsv&quot;,
        &quot;firstName&quot;  =&gt; &quot;Ragnar&quot;,
        &quot;lastName&quot;   =&gt; &quot;Lodbrok&quot;,
        &quot;login&quot;      =&gt; &quot;Ragnar&quot;,
        &quot;email&quot;      =&gt; &quot;rlodbrok@paris.net&quot;,
        &quot;screenName&quot; =&gt; &quot;Ragnar&quot;
    }
</PRE>
</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my %user_info = $qdb-&gt;get_user_info(&quot;rlodbrok@paris.net&quot;);
    
    print $user_info{'id'}; # Prints &quot;112149.bhsv&quot;
</PRE>
</P>
<P>
<HR>
<H2><A NAME="get_user_roles">get_user_roles</A></H2>
<P>
You invoke this method on an application-level dbid to find out what roles
are currently assigned to a specific user in an application.

</P>
<P>
In contrast, the similar <A HREF="#user_roles">user_roles</A> casts a bigger net, getting all users and their roles for the specified
application.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
Application-level dbid for which the specified user's roles will be
retrieved.

</P>
<LI><STRONG>User ID</STRONG>
<P>
The user id of the user whose roles will be retrieved.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
A hash object of the following format:

</P>
<P>
<PRE>    {
        &quot;id&quot;    =&gt; &quot;112245.efy7&quot;,
        &quot;name&quot;  =&gt; &quot;Ivar Boneless&quot;,
        &quot;roles&quot; =&gt; [
            {
                &quot;id&quot; =&gt; 10,
                &quot;name&quot; =&gt; &quot;Viewer&quot;,
                &quot;access_id&quot; =&gt; 3,
                &quot;access&quot; =&gt; &quot;Basic Access&quot;
            },
            # etc...
        ]
    }
</PRE>
</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my %user_roles = $qdb-&gt;get_user_roles(&quot;57pa5vjf&quot;,&quot;112245.efy7&quot;);
    
    while my $role (@{$user_roles{'roles'}}){
        
        # Prints &quot;Viewer: Basic Access&quot;
        print $role-&gt;{'name'}.&quot;: &quot;.$role-&gt;{'access'}.&quot;\n&quot;;
    }
</PRE>
</P>
<P>
<HR>
<H2><A NAME="granted_dbs">granted_dbs</A></H2>
<P>
You invoke this method to get the names and dbids of all the applications
and tables that you are able to access. Optionally, you can choose to
retrieve parent applications, child tables, or both, or restrict the list
to only those applications and tables to which you have administrative
rights.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG><A NAME="item__optional_Include_Applications">[optional] Include Applications</A></STRONG>
<P>
Set this parameter to 1 to include applications in the response.

</P>
<LI><STRONG><A NAME="item__optional_Include_Tables">[optional] Include Tables</A></STRONG>
<P>
Set this parameter to 1 to include tables in the response.

</P>
<LI><STRONG><A NAME="item__optional_Filter_for_Administra">[optional] Filter for Administrative Rights</A></STRONG>
<P>
Set this parameter to 1 to only show the applications and/or tables for
which administrative rights have been granted.

</P>
</UL>
<P>
Note: Omitting all parameters will return an empty array in all cases.

</P>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
An array of the following format:

</P>
<P>
<PRE>    [
        {
            &quot;dbname&quot; =&gt; &quot;Misc_Comments&quot;,
            &quot;dbid&quot;   =&gt; &quot;bdadur4ak&quot;,
        },
        {
            &quot;dbname&quot; =&gt; &quot;Misc_Comments: Comment&quot;,
            &quot;dbid&quot;   =&gt; &quot;bdadur4am&quot;
        },
        {
            &quot;dbname&quot; =&gt; &quot;Misc_Comments: Rating&quot;,
            &quot;dbid&quot;   =&gt; &quot;bdbs8ms3g&quot;
        },
        {
            &quot;dbname&quot; =&gt; &quot;Misc_Comments: Emails&quot;,
            &quot;dbid&quot;   =&gt; &quot;bdbtbrxed&quot;
        },
        {
            &quot;dbname&quot; =&gt; &quot;API Created Sample&quot;,
            &quot;dbid&quot;   =&gt; &quot;bdb5rjd6g&quot;
        }
    ]
</PRE>
</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my @databases = $qdb-&gt;granted_dbs();
    
    foreach my $db(@databases){
        print &quot;$db-&gt;{'dbname'}: $db-&gt;{'dbid'}\n&quot;; # Prints &quot;Misc_Comments: bdadur4ak&quot;, etc.
    }
</PRE>
</P>
<P>
<HR>
<H2><A NAME="import_from_csv">import_from_csv</A></H2>
<P>
You invoke this method on a table-level dbid to add or update a batch of
records. You can even do adds and edits together in the same
import_from_csv call. (For an add, leave the RecordID empty -- that's how
QuickBase knows it's an add.)

</P>
<P>
In comparison, <A HREF="#add_record">add_record</A> and <A HREF="#edit_record">edit_record</A> will only let you add or edit one record at a time. There is one
limitation, though: you can't use this call to modify file attachment
fields.

</P>
<P>
The clist parameter is optional when adding new records to a table.
However, when updating existing records, you must specify the clist
parameter. QuickBase uses this parameter to determine whether new records
to a table or existing records are being updated.

</P>
<P>
For an edit operation, the clist parameter must contain the field ID for
the Record ID# field. Also, the CSV must include a column that contains a
record id for each record that you are updating.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The QuickBase table-level dbid of the table you wish to update or add to.

</P>
<LI><STRONG><A NAME="item_CSV">CSV Data</A></STRONG>
<P>
The comma-separated input data.

</P>
<LI><STRONG><A NAME="item__optional_Column_List_clist_">[optional] Column List (clist)</A></STRONG>
<P>
A period delimited list of field IDs to which the CSV columns map. This
means that the first field ID in the list maps to the first column in the
CSV file, the second ID maps to the second column in the CSV file, and so
forth.

</P>
<P>
To prevent a column in the CSV file from being imported, enter a 0 in the
field list.

</P>
<P>
Examples:

</P>
<P>
<PRE>    In the following examples, the CSV file contains 4 columns
    
    &quot;0.7.0.6&quot;
    In this example, QuickBase will not import either the first or the third 
    columns in the CSV file.
    
    &quot;7.8.5&quot;
    In this example the field ID of 7 is mapped to the first column in the CSV 
    file, the field with a field ID of 8 is mapped to the second column, and 
    the field id of 5 is mapped to the third column.  Since the clist parameter 
    does not include a fourth field ID, the fourth column in the CSV file is 
    ignored.
</PRE>
</P>
<LI><STRONG><A NAME="item__optional_Skip_First">[optional] Skip First</A></STRONG>
<P>
This parameter prevents QuickBase from importing the first row of data in a
CSV file. You must set this parameter to 1 if the first row of your CSV
contains column names.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
Currently returns unprocessed XML.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $xml_response = $qdb-&gt;import_from_csv(&quot;bddrqepes&quot;, &quot;First Name,Last Name,Phone Number,Email,...&quot;, &quot;5.6.10.11&quot;, 1);
</PRE>
</P>
<P>
<HR>
<H2><A NAME="post_api">post_api</A></H2>
<P>
A (mostly) private method for direct communication with the QuickBase API.
The post_api method will take a parameter list and convert it into the
requisite XML for a request, including the authentication and header
information automatically. It returns an HTTP::Response object, after
checking its contents for error information which is stored in the <A HREF="#error">error</A> and 
<A HREF="#errortext">errortext</A> properties if found.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
A QuickBase application- or table-level dbid. (``main'' should be used for
API calls which do not require a database.)

</P>
<LI><STRONG><A NAME="item_QuickBase">QuickBase Action</A></STRONG>
<P>
The name of the QuickBase API to be invoked. Typically begins in API_xxxx.

</P>
<LI><STRONG><A NAME="item_API">API Parameters</A></STRONG>
<P>
A hash or array list of parameters to be sent to QuickBase.

</P>
<LI><STRONG><A NAME="item__optional_Headers">[optional] Headers</A></STRONG>
<P>
A hash list of headers to send to QuickBase. Basic headers such as
Content-Type and QUICKBASE-ACTION are set automatically.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
An HTTP::Response object containing the response from QuickBase.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $response = $qdb-&gt;post_api(&quot;bddrqepes&quot;, &quot;API_GetDBvar&quot;, {&quot;varname&quot;=&gt;&quot;usercode&quot;});
    
    print $response-&gt;content;
    
    # Prints:
    &lt;?xml version=&quot;1.0&quot; ?&gt;
    &lt;qdbapi&gt;
       &lt;action&gt;API_getDBvar&lt;/action&gt;
       &lt;errcode&gt;0&lt;/errcode&gt;
       &lt;errtext&gt;No error&lt;/errtext&gt;
       &lt;value&gt;12&lt;/value&gt;
    &lt;/qdbapi&gt;
</PRE>
</P>
<P>
<HR>
<H2><A NAME="provision_user">provision_user</A></H2>
<P>
This method is invoked on an application-level dbid for a user that is not
yet registered with QuickBase, but whose email is known to you. This call
will:

</P>
<UL>
<LI><STRONG><A NAME="item_Start">Start a new user registration in QuickBase using the supplied email, 
first name, and last name.</A></STRONG>
<LI><STRONG><A NAME="item_Give">Give application access to the user by adding the user to the specified
role.</A></STRONG>
</UL>
<P>
After you invoke this method, you'll need to invoke <A HREF="#send_invitation">send_invitation</A> to invite the new user via email. When the user clicks on the link in the
email invitation, the user is prompted to complete the brief registration.
At this time, the user can change the first and last name you assigned.

</P>
<P>
If a user is already registered with QuickBase, you can't use this call.
Instead, to do these same tasks you'll have to use <A HREF="#get_user_info">get_user_info</A>, 
<A HREF="#add_user_to_role">add_user_to_role</A>, and <A HREF="#send_invitation">send_invitation</A>.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The application-level dbid of the QuickBase application you wish to grant
the user access to.

</P>
<LI><STRONG><A NAME="item_Email">Email</A></STRONG>
<P>
The email address of the person to whom you are granting access.

</P>
<LI><STRONG><A NAME="item_First">First Name</A></STRONG>
<P>
The first name of the new QuickBase user.

</P>
<LI><STRONG><A NAME="item_Last">Last Name</A></STRONG>
<P>
The last name of the new QuickBase user.

</P>
<LI><STRONG><A NAME="item__optional_Role_ID">[optional] Role ID</A></STRONG>
<P>
The role ID of the role you want to assign the user to. If you don't supply
a role, the role will be set to 'none'. This can be found via <A HREF="#get_role_info">get_role_info</A>.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
The userid of the newly created user.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $new_userid = $qdb-&gt;provision_user(&quot;bdcagynhs&quot;, &quot;sanskor@sbcglobal.com&quot;, &quot;Margi&quot;, &quot;Rita&quot; 10);
    
    print $new_userid; # Prints &quot;112248.5nzg&quot;
</PRE>
</P>
<P>
<HR>
<H2><A NAME="proxy">proxy</A></H2>
<P>
Gets and sets the proxy for LWP::UserAgent to use when making API calls.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG><A NAME="item__optional_Proxy_Address">[optional] Proxy Address</A></STRONG>
<P>
The address for the proxy server to use.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
The current proxy address.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<PRE>    print $qdb->proxy(); # Prints ""
    
    $qdb->proxy("http://myproxy.com:8080");
    
    print $qdb->proxy(); #Prints "http://myproxy.com:8080"</PRE>

<P>
<HR>
<H2><A NAME="purge_records">purge_records</A></H2>
<strong style="color:red">CAUTION: Use this method carefully!</strong>

<P>
The purge_records method is used to delete several records at once, and has
the potential to completely wipe out a table if the query parameter is
omitted or empty.

</P>
<P>
You invoke this call on the table-level dbid of the table you want to
delete the records from. If you only need to delete one record, <A HREF="#delete_record">delete_record</A> 
would be a better choice.

</P>
<P>
All records matching your query criteria will be deleted.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
The table-level dbid of the table in which the records reside.

</P>
<LI><STRONG><A NAME="item_Query">Query (or Query Identifier)</A></STRONG>
<P>
This parameter will accept one of three input types:

</P>
<UL>
<LI><STRONG><A NAME="item_Query">Query Name</A></STRONG>
<P>
The name (qname) of the pre-built query you wish to execute.

</P>
<LI><STRONG><A NAME="item_Query">Query ID</A></STRONG>
<P>
The ID (qid) of the pre-built query you wish to execute.

</P>
<LI><STRONG><A NAME="item_Query">Query String</A></STRONG>
<P>
The custom query built using the language specified at <A
HREF="http://member.developer.intuit.com/MyIDN/technical_resources/quickbase/framework/httpapiref/HTML_API_Programmers_Guide.htm">http://member.developer.intuit.com/MyIDN/technical_resources/quickbase/framework/httpapiref/HTML_API_Programmers_Guide.htm</A>
under Building and Using Queries.

</P>
</UL>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
The number of records deleted.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $num_deleted = $qdb-&gt;purge_records(&quot;bddrqepes&quot;, &quot;{'7'.CT.'Company B'}&quot;);
    
    print &quot;$num_deleted record(s) deleted.&quot;;
</PRE>
</P>
<P>
<HR>
<H2><A NAME="realmhost">realmhost</A></H2>
<P>
Gets and sets the realmhost to use when accessing QuickBase.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG><A NAME="item__optional_Realmhost">[optional] Realmhost</A></STRONG>
<P>
The realmhost to use.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
The current realmhost.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<PRE>    print $qdb->realmhost(); # Prints ""
    
    $qdb->realmhost("http://mycompany.quickbase.com");
    
    print $qdb->realmhost(); # Prints "http://mycompany.quickbase.com"</PRE>

<P>
<HR>
<H2><A NAME="remove_user_from_role">remove_user_from_role</A></H2>
<P>
You invoke this method on an application-level dbid to remove the user
entirely from the specified role in that application. Keep in mind that if
the user has no other role, it eliminates the user entirely from the
application's role list. This means that calling <A HREF="#user_roles">user_roles</A> won't return the user at all, so you'll need to get the userid by calling <A HREF="#get_user_info">get_user_info</A> if you want to assign the user to another role in the future.

</P>
<P>
This method can be used to remove the user entirely from any role in the
application, effectively turning off access to that user. If you intend to
turn off all access, you would need to call <A HREF="#get_user_roles">get_user_roles</A> to see what roles the user has, then invoke <A HREF="#remove_user_from_role">remove_user_from_role</A> on each role.

</P>
<P>
If you expect to add that user to another role in the future, you should
consider using <A HREF="#change_user_role">change_user_role</A>, which can be used to turn off access with a role set to None while
keeping the user on the application's role list for future reinstatement or
role change.

</P>
<P>
If you are simply changing the user from one role to another, you should
use 
<A HREF="#change_user_role">change_user_role</A>.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
Application-level dbid of the application containing the role you want to
remove the user from.

</P>
<LI><STRONG>User ID</STRONG>
<P>
The user you want removed from the role.

</P>
<LI><STRONG>Role ID</STRONG>
<P>
The ID of the role you want the user removed from.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
True/False value for success/failure.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    print &quot;Success!&quot; if $qdb-&gt;remove_user_from_role(&quot;bdb5rjd6h&quot;, &quot;112245.efy7&quot;, 11);
</PRE>
</P>
<P>
<HR>
<H2><A NAME="rename_app">rename_app</A></H2>
<P>
You invoke this method on an application-level dbid to change the
application name. No dbids, fids, or anything other than the application
name is affected. You must have administrator rights to call this.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
Application-level QuickBase dbid.

</P>
<LI><STRONG><A NAME="item_New">New Application Name</A></STRONG>
<P>
The name you want to change the application to.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
True/False value for success/failure.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    print &quot;Application renamed&quot; if $qdb-&gt;rename_app(&quot;bddrqepes&quot;, &quot;My New Application Name&quot;);
</PRE>
</P>
<P>
<HR>
<H2><A NAME="replace_db_page">replace_db_page</A></H2>
<P>
A subroutine for replacing a DB page. See <A HREF="#add_replace_db_page">add_replace_db_page</A> for more information.

</P>
<P>
<STRONG>See Also:</STRONG>  <A HREF="#add_replace_db_page">add_replace_db_page</A>, <A HREF="#add_db_page">add_db_page</A>



</P>
<P>
<HR>
<H2><A NAME="send_invitation">send_invitation</A></H2>
<P>
You invoke this method to send an email invitation for your application.
The userid is either from an existing QuickBase user that you have granted
access to via <A HREF="#add_user_to_role">add_user_to_role</A>, or from a new QuickBase user that you have created via <A HREF="#provision_user">provision_user</A>.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
Application-level dbid of the application you want to invite the user to.

</P>
<LI><STRONG>User ID</STRONG>
<P>
The ID of the user you want to invite to the application.

</P>
<LI><STRONG><A NAME="item__optional_Message">[optional] Message</A></STRONG>
<P>
The message you want to display in your email invitation.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
True/False value for success/failure.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    print &quot;Invitation sent&quot; if $qdb-&gt;send_invitation(&quot;bdb5rjd6h&quot;,&quot;112249.ctdg&quot;,&quot;Welcome to my app!&quot;);
</PRE>
</P>
<P>
<HR>
<H2><A NAME="set_db_var">set_db_var</A></H2>
<P>
If you have administrator rights in an aplication, you can invoke this
method to create a DBVar variable and/or set a value for it. If the DBVar
already exists, this call will overwrite the existing value. You can only
invoke this call on one DBVar at a time.

</P>
<P>
DBVars can only be set at the application level, so you must specify an
application-level dbid.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
Application-level dbid in which the DBVar will be created or modified.

</P>
<LI><STRONG><A NAME="item_DBVar">DBVar Variable Name</A></STRONG>
<P>
The name of the DBVar you wish to modify or create.

</P>
<LI><STRONG><A NAME="item_DBVar">DBVar Value</A></STRONG>
<P>
The value you want to set the DBVar to.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
True/False value for success/failure.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    print &quot;Value changed&quot; if $qdb-&gt;set_db_var(&quot;bddrqepes&quot;, &quot;Day Number&quot;, 353);
</PRE>
</P>
<P>
<HR>
<H2><A NAME="set_field_properties">set_field_properties</A></H2>
<P>
You invoke this method on a table-level dbid to set one or more properties
of a field. Normally, you use this call after you create a new field using 
<A HREF="#add_field">add_field</A>, to set up its default behavior, however you can also use this call any
time you want to change properties, even if the affected field has data.

</P>
<P>
The properties available for a field vary slightly for different field
types. To get all of the available properties for a field, and to get the
field id (fid) needed, use the <A HREF="#get_schema">get_schema</A> method.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
Table-level dbid containing the field you wish to modify.

</P>
<LI><STRONG>Field ID</STRONG>
<P>
The field ID of the field to modify.

</P>
<LI><STRONG><A NAME="item_Properties">Properties</A></STRONG>
<P>
A hash reference containing a list of properties and values to change. For
a complete list of field properties, see the link below.

</P>
<P>
<A
HREF="http://member.developer.intuit.com/MyIDN/technical_resources/quickbase/framework/httpapiref/QBaseSDK_/04_API_LangRef/04_API_LangRef-168.htm">http://member.developer.intuit.com/MyIDN/technical_resources/quickbase/framework/httpapiref/QBaseSDK_/04_API_LangRef/04_API_LangRef-168.htm</A>


</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
True/False value for success/failure.

</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my $success = $qdb=&gt;set_field_properties(&quot;bddrqepes&quot;, 15, {&quot;default_value&quot; =&gt; &quot;Hello&quot;});
    
    print &quot;Default value changed&quot; if $success;
</PRE>
</P>
<P>
<HR>
<H2><A NAME="user_roles">user_roles</A></H2>
<P>
You invoke this method to find out details about an application's users and
their roles. You have to use the application-level dbid; a table-level dbid
returns an error.

</P>
<P>
This method returns all users and their roles. In contrast, 
<A HREF="#get_user_role">get_user_role</A> gets only the roles for a specified user.

</P>
<P>
You can invoke this method if you have basic access rights or higher.

</P>
<P>
<STRONG>Parameters</STRONG>



</P>
<UL>
<LI><STRONG>QuickBase Database ID</STRONG>
<P>
Application-level dbid you want to retrieve the users/roles for.

</P>
</UL>
<P>
<STRONG>Returns</STRONG>



</P>
<P>
An array of the following format:

</P>
<P>
<PRE>    (
        {
            &quot;id&quot;    =&gt; &quot;112149.bhsv&quot;,
            &quot;name&quot;  =&gt; &quot;Jack Danielsson&quot;,
            &quot;roles&quot; =&gt; [
                {
                    &quot;id&quot;        =&gt; 12,
                    &quot;name&quot;      =&gt; &quot;Administrator&quot;,
                    &quot;access&quot;    =&gt; &quot;Administrator&quot;,
                    &quot;access_id&quot; =&gt; 1
                }
                # etc.
            ]
        }
        # etc.
    )
</PRE>
</P>
<P>
<STRONG>Example(s)</STRONG>



</P>
<P>
<PRE>    my @user_roles = $qdb-&gt;user_roles(&quot;bddrqepes&quot;);
    
    my $num_users = $#user_roles;
    
    foreach my $user (@user_roles){
        print &quot;User ID: $user-&gt;{'id'}\n&quot;;
        print &quot;User Name: $user-&gt;{'name'}\n&quot;;
        print &quot;Roles:\n&quot;;
        foreach my $role (@{$user-&gt;{'roles'}}){
            print &quot;  Role ID: $role-&gt;{'id'}\n&quot;
            print &quot;  Role Name: $role-&gt;{'name'}\n&quot;
            print &quot;  Role Access: $role-&gt;{'access'}\n&quot;
            print &quot;  Role Access ID: $role-&gt;{'access_id'}\n\n&quot;
        }
        print &quot;\n&quot;;
    }
</PRE>
</P>
<P>
<HR>
<H1><A NAME="DEPRECATED">DEPRECATED</A></H1>
<P>
These methods are no longer preferred. They will be phased out in future
versions of the SDK.

</P>
<P>
<HR>
<H2><A NAME="addField">addField</A></H2>
<P>
See <A HREF="#add_field">add_field</A>



</P>
<P>
<HR>
<H2><A NAME="AddRecord">AddRecord</A></H2>
<P>
See <A HREF="#add_record">add_record</A>



</P>
<P>
<HR>
<H2><A NAME="AddReplaceDBPage">AddReplaceDBPage</A></H2>
<P>
See <A HREF="#add_replace_db_page">add_replace_db_page</A>



</P>
<P>
<HR>
<H2><A NAME="AddUserToRole">AddUserToRole</A></H2>
<P>
See <A HREF="#add_user_to_role">add_user_to_role</A>



</P>
<P>
<HR>
<H2><A NAME="ChangeRecordOwner">ChangeRecordOwner</A></H2>
<P>
See <A HREF="#change_record_owner">change_record_owner</A>



</P>
<P>
<HR>
<H2><A NAME="ChangeUserRole">ChangeUserRole</A></H2>
<P>
See <A HREF="#change_user_role">change_user_role</A>



</P>
<P>
<HR>
<H2><A NAME="cloneDatabase">cloneDatabase</A></H2>
<P>
See <A HREF="#clone_database">clone_database</A>



</P>
<P>
<HR>
<H2><A NAME="createDatabase">createDatabase</A></H2>
<P>
See <A HREF="#create_database">create_database</A>



</P>
<P>
<HR>
<H2><A NAME="CreateTable">CreateTable</A></H2>
<P>
See <A HREF="#create_table">create_table</A>



</P>
<P>
<HR>
<H2><A NAME="DeleteDatabase">DeleteDatabase</A></H2>
<P>
See <A HREF="#delete_database">delete_database</A>



</P>
<P>
<HR>
<H2><A NAME="deleteField">deleteField</A></H2>
<P>
See <A HREF="#delete_field">delete_field</A>



</P>
<P>
<HR>
<H2><A NAME="DeleteRecord">DeleteRecord</A></H2>
<P>
See <A HREF="#delete_record">delete_record</A>



</P>
<P>
<HR>
<H2><A NAME="doQuery">doQuery</A></H2>
<P>
See <A HREF="#do_query">do_query</A>



</P>
<P>
<HR>
<H2><A NAME="DoQuery">DoQuery</A></H2>
<P>
See <A HREF="#do_query">do_query</A>



</P>
<P>
<HR>
<H2><A NAME="EditRecord">EditRecord</A></H2>
<P>
See <A HREF="#edit_record">edit_record</A>



</P>
<P>
<HR>
<H2><A NAME="EditRecordWithUpdateID">EditRecordWithUpdateID</A></H2>
<P>
See <A HREF="#edit_record_with_update_id">edit_record_with_update_id</A>



</P>
<P>
<HR>
<H2><A NAME="FieldAddChoices">FieldAddChoices</A></H2>
<P>
See <A HREF="#field_add_choices">field_add_choices</A>



</P>
<P>
<HR>
<H2><A NAME="FieldRemoveChoices">FieldRemoveChoices</A></H2>
<P>
See <A HREF="#field_remove_choices">field_remove_choices</A>



</P>
<P>
<HR>
<H2><A NAME="FindDBByName">FindDBByName</A></H2>
<P>
See <A HREF="#find_db_by_name">find_db_by_name</A>



</P>
<P>
<HR>
<H2><A NAME="GenAddRecordForm">GenAddRecordForm</A></H2>
<P>
See <A HREF="#gen_add_record_form">gen_add_record_form</A>



</P>
<P>
<HR>
<H2><A NAME="GenResultsTable">GenResultsTable</A></H2>
<P>
See <A HREF="#gen_results_table">gen_results_table</A>



</P>
<P>
<HR>
<H2><A NAME="getCompleteCSV">getCompleteCSV</A></H2>
<P>
See <A HREF="#get_complete_csv">get_complete_csv</A>



</P>
<P>
<HR>
<H2><A NAME="GetDBInfo">GetDBInfo</A></H2>
<P>
See <A HREF="#get_db_info">get_db_info</A>



</P>
<P>
<HR>
<H2><A NAME="GetDBPage">GetDBPage</A></H2>
<P>
See <A HREF="#get_db_page">get_db_page</A>



</P>
<P>
<HR>
<H2><A NAME="GetDBvar">GetDBvar</A></H2>
<P>
See <A HREF="#get_db_var">get_db_var</A>



</P>
<P>
<HR>
<H2><A NAME="GetFile">GetFile</A></H2>
<P>
See <A HREF="#get_file">get_file</A>



</P>
<P>
<HR>
<H2><A NAME="getIDbyName">getIDbyName</A></H2>
<P>
See <A HREF="#find_db_by_name">find_db_by_name</A>



</P>
<P>
<HR>
<H2><A NAME="GetNumRecords">GetNumRecords</A></H2>
<P>
See <A HREF="#get_num_records">get_num_records</A>



</P>
<P>
<HR>
<H2><A NAME="getoneBaseIDbyName">getoneBaseIDbyName</A></H2>
<P>
See <A HREF="#find_db_by_name">find_db_by_name</A>



</P>
<P>
<HR>
<H2><A NAME="GetOneTimeTicket">GetOneTimeTicket</A></H2>
<P>
See <A HREF="#get_one_time_ticket">get_one_time_ticket</A>



</P>
<P>
<HR>
<H2><A NAME="GetRecord">GetRecord</A></H2>
<P>
See <A HREF="#get_record">get_record</A>



</P>
<P>
<HR>
<H2><A NAME="GetRecordAsHTML">GetRecordAsHTML</A></H2>
<P>
See <A HREF="#get_record_as_html">get_record_as_html</A>



</P>
<P>
<HR>
<H2><A NAME="GetRecordInfo">GetRecordInfo</A></H2>
<P>
See <A HREF="#get_record_info">get_record_info</A>



</P>
<P>
<HR>
<H2><A NAME="GetRIDs">GetRIDs</A></H2>
<P>
See <A HREF="#get_rids">get_rids</A>



</P>
<P>
<HR>
<H2><A NAME="GetRoleInfo">GetRoleInfo</A></H2>
<P>
See <A HREF="#get_role_info">get_role_info</A>



</P>
<P>
<HR>
<H2><A NAME="GetSchema">GetSchema</A></H2>
<P>
See <A HREF="#get_schema">get_schema</A>



</P>
<P>
<HR>
<H2><A NAME="getTicket">getTicket</A></H2>
<P>
See <A HREF="#get_ticket">get_ticket</A>



</P>
<P>
<HR>
<H2><A NAME="GetURL">GetURL</A></H2>
<P>
<HR>
<H2><A NAME="GetUserInfo">GetUserInfo</A></H2>
<P>
See <A HREF="#get_user_info">get_user_info</A>



</P>
<P>
<HR>
<H2><A NAME="GetUserRole">GetUserRole</A></H2>
<P>
See <A HREF="#get_user_roles">get_user_roles</A>



</P>
<P>
<HR>
<H2><A NAME="GrantedDBs">GrantedDBs</A></H2>
<P>
See <A HREF="#granted_dbs">granted_dbs</A>



</P>
<P>
<HR>
<H2><A NAME="ImportFromCSV">ImportFromCSV</A></H2>
<P>
See <A HREF="#import_from_csv">import_from_csv</A>



</P>
<P>
<HR>
<H2><A NAME="PostAPIURL">PostAPIURL</A></H2>
<P>
See <A HREF="#post_api">post_api</A>



</P>
<P>
<HR>
<H2><A NAME="PostURL">PostURL</A></H2>
<P>
<HR>
<H2><A NAME="ProvisionUser">ProvisionUser</A></H2>
<P>
See <A HREF="#provision_user">provision_user</A>



</P>
<P>
<HR>
<H2><A NAME="purgeRecords">purgeRecords</A></H2>
<P>
See <A HREF="#purge_records">purge_records</A>



</P>
<P>
<HR>
<H2><A NAME="RemoveUserFromRole">RemoveUserFromRole</A></H2>
<P>
See <A HREF="#remove_user_from_role">remove_user_from_role</A>



</P>
<P>
<HR>
<H2><A NAME="RenameApp">RenameApp</A></H2>
<P>
See <A HREF="#rename_app">rename_app</A>



</P>
<P>
<HR>
<H2><A NAME="SendInvitation">SendInvitation</A></H2>
<P>
See <A HREF="#send_invitation">send_invitation</A>



</P>
<P>
<HR>
<H2><A NAME="setAppToken">setAppToken</A></H2>
<P>
See <A HREF="#apptoken">apptoken</A>



</P>
<P>
<HR>
<H2><A NAME="SetDBvar">SetDBvar</A></H2>
<P>
See <A HREF="#set_db_var">set_db_var</A>



</P>
<P>
<HR>
<H2><A NAME="setFieldProperties">setFieldProperties</A></H2>
<P>
See <A HREF="#set_field_properties">set_field_properties</A>



</P>
<P>
<HR>
<H2><A NAME="setProxy">setProxy</A></H2>
<P>
See <A HREF="#proxy">proxy</A>



</P>
<P>
<HR>
<H2><A NAME="setRealmhost">setRealmhost</A></H2>
<P>
See <A HREF="#realmhost">realmhost</A>



</P>
<P>
<HR>
<H2><A NAME="UserRoles">UserRoles</A></H2>
<P>
See <A HREF="#user_roles">user_roles</A>



</P>

</BODY>

</HTML>
